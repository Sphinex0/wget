<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-1 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-day vector-sticky-header-enabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Stochastic dynamic programming - Wikipedia</title>
<script>(function(){var className="client-js vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-1 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-day vector-sticky-header-enabled vector-toc-available";var cookie=document.cookie.match(/(?:^|; )enwikimwclientpreferences=([^;]+)/);if(cookie){cookie[1].split('%2C').forEach(function(pref){className=className.replace(new RegExp('(^| )'+pref.replace(/-clientpref-\w+$|[^\w-]+/g,'')+'-clientpref-\\w+( |$)'),'$1'+pref+'$2');});}document.documentElement.className=className;}());RLCONF={"wgBreakFrames":false,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"16c0bb31-ddb4-4242-ae96-9d2d99acc854","wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Stochastic_dynamic_programming","wgTitle":"Stochastic dynamic programming","wgCurRevisionId":1281671356,"wgRevisionId":1281671356,"wgArticleId":52759748,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Articles with short description","Short description matches Wikidata","Articles to be expanded from January 2017","All articles to be expanded","CS1 errors: ISBN date","Pages using div col with small parameter","Articles with example Python (programming language) code","Dynamic programming","Optimal control","Optimization algorithms and methods","Stochastic optimization"],"wgPageViewLanguage":"en","wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"Stochastic_dynamic_programming","wgRelevantArticleId":52759748,"wgIsProbablyEditable":true,"wgRelevantPageIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgNoticeProject":"wikipedia","wgCiteReferencePreviewsActive":false,"wgFlaggedRevsParams":{"tags":{"status":{"levels":1}}},"wgMediaViewerOnClick":true,"wgMediaViewerEnabledByDefault":true,"wgPopupsFlags":0,"wgVisualEditor":{"pageLanguageCode":"en","pageLanguageDir":"ltr","pageVariantFallbacks":"en"},"wgMFDisplayWikibaseDescriptions":{"search":true,"watchlist":true,"tagline":false,"nearby":true},"wgWMESchemaEditAttemptStepOversample":false,"wgWMEPageLength":20000,"wgMetricsPlatformUserExperiments":{"active_experiments":[],"overrides":[],"enrolled":[],"assigned":[],"subject_ids":[],"sampling_units":[]},"wgEditSubmitButtonLabelPublish":true,"wgULSPosition":"interlanguage","wgULSisCompactLinksEnabled":false,"wgVector2022LanguageInHeader":true,"wgULSisLanguageSelectorEmpty":false,"wgWikibaseItemId":"Q28137009","wgCheckUserClientHintsHeadersJsApi":["brands","architecture","bitness","fullVersionList","mobile","model","platform","platformVersion"],"GEHomepageSuggestedEditsEnableTopics":true,"wgGESuggestedEditsTaskTypes":{"taskTypes":["copyedit","link-recommendation"],"unavailableTaskTypes":[]},"wgGETopicsMatchModeEnabled":false,"wgGELevelingUpEnabledForUser":false};
RLSTATE={"ext.globalCssJs.user.styles":"ready","site.styles":"ready","user.styles":"ready","ext.globalCssJs.user":"ready","user":"ready","user.options":"loading","ext.math.styles":"ready","ext.cite.styles":"ready","ext.pygments":"ready","skins.vector.search.codex.styles":"ready","skins.vector.styles":"ready","skins.vector.icons":"ready","ext.wikimediamessages.styles":"ready","ext.visualEditor.desktopArticleTarget.noscript":"ready","ext.uls.interlanguage":"ready","wikibase.client.init":"ready"};RLPAGEMODULES=["ext.xLab","ext.cite.ux-enhancements","ext.pygments.view","mediawiki.page.media","ext.scribunto.logs","site","mediawiki.page.ready","mediawiki.toc","skins.vector.js","ext.centralNotice.geoIP","ext.centralNotice.startUp","ext.gadget.ReferenceTooltips","ext.gadget.switcher","ext.urlShortener.toolbar","ext.centralauth.centralautologin","mmv.bootstrap","ext.popups","ext.visualEditor.desktopArticleTarget.init","ext.visualEditor.targetLoader","ext.echo.centralauth","ext.eventLogging","ext.wikimediaEvents","ext.navigationTiming","ext.uls.interface","ext.cx.eventlogging.campaigns","ext.cx.uls.quick.actions","wikibase.client.vector-2022","ext.checkUser.clientHints","ext.quicksurveys.init","ext.growthExperiments.SuggestedEditSession"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.impl(function(){return["user.options@12s5i",function($,jQuery,require,module){mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
}];});});</script>
<link rel="stylesheet" href="/w/load.php?lang=en&amp;modules=ext.cite.styles%7Cext.math.styles%7Cext.pygments%7Cext.uls.interlanguage%7Cext.visualEditor.desktopArticleTarget.noscript%7Cext.wikimediamessages.styles%7Cskins.vector.icons%2Cstyles%7Cskins.vector.search.codex.styles%7Cwikibase.client.init&amp;only=styles&amp;skin=vector-2022">
<script async="" src="/w/load.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=vector-2022"></script>
<meta name="ResourceLoaderDynamicStyles" content="">
<link rel="stylesheet" href="/w/load.php?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector-2022">
<meta name="generator" content="MediaWiki 1.45.0-wmf.13">
<meta name="referrer" content="origin">
<meta name="referrer" content="origin-when-cross-origin">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=1120">
<meta property="og:title" content="Stochastic dynamic programming - Wikipedia">
<meta property="og:type" content="website">
<link rel="preconnect" href="//upload.wikimedia.org">
<link rel="alternate" media="only screen and (max-width: 640px)" href="//en.m.wikipedia.org/wiki/Stochastic_dynamic_programming">
<link rel="alternate" type="application/x-wiki" title="Edit this page" href="/w/index.php?title=Stochastic_dynamic_programming&amp;action=edit">
<link rel="apple-touch-icon" href="/static/apple-touch/wikipedia.png">
<link rel="icon" href="/static/favicon/wikipedia.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/w/rest.php/v1/search" title="Wikipedia (en)">
<link rel="EditURI" type="application/rsd+xml" href="//en.wikipedia.org/w/api.php?action=rsd">
<link rel="canonical" href="https://en.wikipedia.org/wiki/Stochastic_dynamic_programming">
<link rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.en">
<link rel="alternate" type="application/atom+xml" title="Wikipedia Atom feed" href="/w/index.php?title=Special:RecentChanges&amp;feed=atom">
<link rel="dns-prefetch" href="//meta.wikimedia.org" />
<link rel="dns-prefetch" href="auth.wikimedia.org">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject mw-editable page-Stochastic_dynamic_programming rootpage-Stochastic_dynamic_programming skin-vector-2022 action-view"><a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	<header class="vector-header mw-header no-font-mode-scale">
		<div class="vector-header-start">
			<nav class="vector-main-menu-landmark" aria-label="Site">
				
<div id="vector-main-menu-dropdown" class="vector-dropdown vector-main-menu-dropdown vector-button-flush-left vector-button-flush-right"  title="Main menu" >
	<input type="checkbox" id="vector-main-menu-dropdown-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-main-menu-dropdown" class="vector-dropdown-checkbox "  aria-label="Main menu"  >
	<label id="vector-main-menu-dropdown-label" for="vector-main-menu-dropdown-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"  ><span class="vector-icon mw-ui-icon-menu mw-ui-icon-wikimedia-menu"></span>

<span class="vector-dropdown-label-text">Main menu</span>
	</label>
	<div class="vector-dropdown-content">


				<div id="vector-main-menu-unpinned-container" class="vector-unpinned-container">
		
<div id="vector-main-menu" class="vector-main-menu vector-pinnable-element">
	<div
	class="vector-pinnable-header vector-main-menu-pinnable-header vector-pinnable-header-unpinned"
	data-feature-name="main-menu-pinned"
	data-pinnable-element-id="vector-main-menu"
	data-pinned-container-id="vector-main-menu-pinned-container"
	data-unpinned-container-id="vector-main-menu-unpinned-container"
>
	<div class="vector-pinnable-header-label">Main menu</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-main-menu.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-main-menu.unpin">hide</button>
</div>

	
<div id="p-navigation" class="vector-menu mw-portlet mw-portlet-navigation"  >
	<div class="vector-menu-heading">
		Navigation
	</div>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="n-mainpage-description" class="mw-list-item"><a href="/wiki/Main_Page" title="Visit the main page [z]" accesskey="z"><span>Main page</span></a></li><li id="n-contents" class="mw-list-item"><a href="/wiki/Wikipedia:Contents" title="Guides to browsing Wikipedia"><span>Contents</span></a></li><li id="n-currentevents" class="mw-list-item"><a href="/wiki/Portal:Current_events" title="Articles related to current events"><span>Current events</span></a></li><li id="n-randompage" class="mw-list-item"><a href="/wiki/Special:Random" title="Visit a randomly selected article [x]" accesskey="x"><span>Random article</span></a></li><li id="n-aboutsite" class="mw-list-item"><a href="/wiki/Wikipedia:About" title="Learn about Wikipedia and how it works"><span>About Wikipedia</span></a></li><li id="n-contactpage" class="mw-list-item"><a href="//en.wikipedia.org/wiki/Wikipedia:Contact_us" title="How to contact Wikipedia"><span>Contact us</span></a></li>
		</ul>
		
	</div>
</div>

	
	
<div id="p-interaction" class="vector-menu mw-portlet mw-portlet-interaction"  >
	<div class="vector-menu-heading">
		Contribute
	</div>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="n-help" class="mw-list-item"><a href="/wiki/Help:Contents" title="Guidance on how to use and edit Wikipedia"><span>Help</span></a></li><li id="n-introduction" class="mw-list-item"><a href="/wiki/Help:Introduction" title="Learn how to edit Wikipedia"><span>Learn to edit</span></a></li><li id="n-portal" class="mw-list-item"><a href="/wiki/Wikipedia:Community_portal" title="The hub for editors"><span>Community portal</span></a></li><li id="n-recentchanges" class="mw-list-item"><a href="/wiki/Special:RecentChanges" title="A list of recent changes to Wikipedia [r]" accesskey="r"><span>Recent changes</span></a></li><li id="n-upload" class="mw-list-item"><a href="/wiki/Wikipedia:File_upload_wizard" title="Add images or other media for use on Wikipedia"><span>Upload file</span></a></li><li id="n-specialpages" class="mw-list-item"><a href="/wiki/Special:SpecialPages"><span>Special pages</span></a></li>
		</ul>
		
	</div>
</div>

</div>

				</div>

	</div>
</div>

		</nav>
			
<a href="/wiki/Main_Page" class="mw-logo">
	<img class="mw-logo-icon" src="/static/images/icons/wikipedia.png" alt="" aria-hidden="true" height="50" width="50">
	<span class="mw-logo-container skin-invert">
		<img class="mw-logo-wordmark" alt="Wikipedia" src="/static/images/mobile/copyright/wikipedia-wordmark-en.svg" style="width: 7.5em; height: 1.125em;">
		<img class="mw-logo-tagline" alt="The Free Encyclopedia" src="/static/images/mobile/copyright/wikipedia-tagline-en.svg" width="117" height="13" style="width: 7.3125em; height: 0.8125em;">
	</span>
</a>

		</div>
		<div class="vector-header-end">
			
<div id="p-search" role="search" class="vector-search-box-vue  vector-search-box-collapses vector-search-box-show-thumbnail vector-search-box-auto-expand-width vector-search-box">
	<a href="/wiki/Special:Search" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only search-toggle" title="Search Wikipedia [f]" accesskey="f"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>Search</span>
	</a>
	<div class="vector-typeahead-search-container">
		<div class="cdx-typeahead-search cdx-typeahead-search--show-thumbnail cdx-typeahead-search--auto-expand-width">
			<form action="/w/index.php" id="searchform" class="cdx-search-input cdx-search-input--has-end-button">
				<div id="simpleSearch" class="cdx-search-input__input-wrapper"  data-search-loc="header-moved">
					<div class="cdx-text-input cdx-text-input--has-start-icon">
						<input
							class="cdx-text-input__input mw-searchInput" autocomplete="off"
							 type="search" name="search" placeholder="Search Wikipedia" aria-label="Search Wikipedia" autocapitalize="sentences" spellcheck="false" title="Search Wikipedia [f]" accesskey="f" id="searchInput"
							>
						<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
					</div>
					<input type="hidden" name="title" value="Special:Search">
				</div>
				<button class="cdx-button cdx-search-input__end-button">Search</button>
			</form>
		</div>
	</div>
</div>

			<nav class="vector-user-links vector-user-links-wide" aria-label="Personal tools">
	<div class="vector-user-links-main">
	
<div id="p-vector-user-menu-preferences" class="vector-menu mw-portlet emptyPortlet"  >
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			
		</ul>
		
	</div>
</div>

	
<div id="p-vector-user-menu-userpage" class="vector-menu mw-portlet emptyPortlet"  >
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			
		</ul>
		
	</div>
</div>

	<nav class="vector-appearance-landmark" aria-label="Appearance">
		
<div id="vector-appearance-dropdown" class="vector-dropdown "  title="Change the appearance of the page&#039;s font size, width, and color" >
	<input type="checkbox" id="vector-appearance-dropdown-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-appearance-dropdown" class="vector-dropdown-checkbox "  aria-label="Appearance"  >
	<label id="vector-appearance-dropdown-label" for="vector-appearance-dropdown-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"  ><span class="vector-icon mw-ui-icon-appearance mw-ui-icon-wikimedia-appearance"></span>

<span class="vector-dropdown-label-text">Appearance</span>
	</label>
	<div class="vector-dropdown-content">


			<div id="vector-appearance-unpinned-container" class="vector-unpinned-container">
				
			</div>
		
	</div>
</div>

	</nav>
	
<div id="p-vector-user-menu-notifications" class="vector-menu mw-portlet emptyPortlet"  >
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			
		</ul>
		
	</div>
</div>

	
<div id="p-vector-user-menu-overflow" class="vector-menu mw-portlet"  >
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			<li id="pt-sitesupport-2" class="user-links-collapsible-item mw-list-item user-links-collapsible-item"><a data-mw="interface" href="https://donate.wikimedia.org/?wmf_source=donate&amp;wmf_medium=sidebar&amp;wmf_campaign=en.wikipedia.org&amp;uselang=en" class=""><span>Donate</span></a>
</li>
<li id="pt-createaccount-2" class="user-links-collapsible-item mw-list-item user-links-collapsible-item"><a data-mw="interface" href="/w/index.php?title=Special:CreateAccount&amp;returnto=Stochastic+dynamic+programming" title="You are encouraged to create an account and log in; however, it is not mandatory" class=""><span>Create account</span></a>
</li>
<li id="pt-login-2" class="user-links-collapsible-item mw-list-item user-links-collapsible-item"><a data-mw="interface" href="/w/index.php?title=Special:UserLogin&amp;returnto=Stochastic+dynamic+programming" title="You&#039;re encouraged to log in; however, it&#039;s not mandatory. [o]" accesskey="o" class=""><span>Log in</span></a>
</li>

			
		</ul>
		
	</div>
</div>

	</div>
	
<div id="vector-user-links-dropdown" class="vector-dropdown vector-user-menu vector-button-flush-right vector-user-menu-logged-out"  title="Log in and more options" >
	<input type="checkbox" id="vector-user-links-dropdown-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-user-links-dropdown" class="vector-dropdown-checkbox "  aria-label="Personal tools"  >
	<label id="vector-user-links-dropdown-label" for="vector-user-links-dropdown-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"  ><span class="vector-icon mw-ui-icon-ellipsis mw-ui-icon-wikimedia-ellipsis"></span>

<span class="vector-dropdown-label-text">Personal tools</span>
	</label>
	<div class="vector-dropdown-content">


		
<div id="p-personal" class="vector-menu mw-portlet mw-portlet-personal user-links-collapsible-item"  title="User menu" >
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="pt-sitesupport" class="user-links-collapsible-item mw-list-item"><a href="https://donate.wikimedia.org/?wmf_source=donate&amp;wmf_medium=sidebar&amp;wmf_campaign=en.wikipedia.org&amp;uselang=en"><span>Donate</span></a></li><li id="pt-createaccount" class="user-links-collapsible-item mw-list-item"><a href="/w/index.php?title=Special:CreateAccount&amp;returnto=Stochastic+dynamic+programming" title="You are encouraged to create an account and log in; however, it is not mandatory"><span class="vector-icon mw-ui-icon-userAdd mw-ui-icon-wikimedia-userAdd"></span> <span>Create account</span></a></li><li id="pt-login" class="user-links-collapsible-item mw-list-item"><a href="/w/index.php?title=Special:UserLogin&amp;returnto=Stochastic+dynamic+programming" title="You&#039;re encouraged to log in; however, it&#039;s not mandatory. [o]" accesskey="o"><span class="vector-icon mw-ui-icon-logIn mw-ui-icon-wikimedia-logIn"></span> <span>Log in</span></a></li>
		</ul>
		
	</div>
</div>

<div id="p-user-menu-anon-editor" class="vector-menu mw-portlet mw-portlet-user-menu-anon-editor"  >
	<div class="vector-menu-heading">
		Pages for logged out editors <a href="/wiki/Help:Introduction" aria-label="Learn more about editing"><span>learn more</span></a>
	</div>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="pt-anoncontribs" class="mw-list-item"><a href="/wiki/Special:MyContributions" title="A list of edits made from this IP address [y]" accesskey="y"><span>Contributions</span></a></li><li id="pt-anontalk" class="mw-list-item"><a href="/wiki/Special:MyTalk" title="Discussion about edits from this IP address [n]" accesskey="n"><span>Talk</span></a></li>
		</ul>
		
	</div>
</div>

	
	</div>
</div>

</nav>

		</div>
	</header>
</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-sitenotice-container">
			<div id="siteNotice"><!-- CentralNotice --></div>
		</div>
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		<div id="mw-navigation">
			<nav id="mw-panel" class="vector-main-menu-landmark" aria-label="Site">
				<div id="vector-main-menu-pinned-container" class="vector-pinned-container">
				
				</div>
		</nav>
		</div>
	</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div
	class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned"
	data-feature-name="toc-pinned"
	data-pinnable-element-id="vector-toc"
	
	
>
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text"
			class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">(Top)</div>
			</a>
		</li>
		<li id="toc-A_motivating_example:_Gambling_game"
		class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#A_motivating_example:_Gambling_game">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>A motivating example: Gambling game</span>
			</div>
		</a>
		
		<ul id="toc-A_motivating_example:_Gambling_game-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Formal_background"
		class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Formal_background">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Formal background</span>
			</div>
		</a>
		
			<button aria-controls="toc-Formal_background-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Formal background subsection</span>
			</button>
		
		<ul id="toc-Formal_background-sublist" class="vector-toc-list">
			<li id="toc-Gambling_game_as_a_stochastic_dynamic_program"
			class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Gambling_game_as_a_stochastic_dynamic_program">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1</span>
					<span>Gambling game as a stochastic dynamic program</span>
				</div>
			</a>
			
			<ul id="toc-Gambling_game_as_a_stochastic_dynamic_program-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Solution_methods"
		class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Solution_methods">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Solution methods</span>
			</div>
		</a>
		
			<button aria-controls="toc-Solution_methods-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Solution methods subsection</span>
			</button>
		
		<ul id="toc-Solution_methods-sublist" class="vector-toc-list">
			<li id="toc-Backward_recursion"
			class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Backward_recursion">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1</span>
					<span>Backward recursion</span>
				</div>
			</a>
			
			<ul id="toc-Backward_recursion-sublist" class="vector-toc-list">
				<li id="toc-Example:_Gambling_game"
			class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Example:_Gambling_game">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1.1</span>
					<span>Example: Gambling game</span>
				</div>
			</a>
			
			<ul id="toc-Example:_Gambling_game-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Forward_recursion"
			class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Forward_recursion">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2</span>
					<span>Forward recursion</span>
				</div>
			</a>
			
			<ul id="toc-Forward_recursion-sublist" class="vector-toc-list">
				<li id="toc-Example:_Gambling_game_2"
			class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Example:_Gambling_game_2">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2.1</span>
					<span>Example: Gambling game</span>
				</div>
			</a>
			
			<ul id="toc-Example:_Gambling_game_2-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Approximate_dynamic_programming"
			class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Approximate_dynamic_programming">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.3</span>
					<span>Approximate dynamic programming</span>
				</div>
			</a>
			
			<ul id="toc-Approximate_dynamic_programming-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Sources"
		class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Sources">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Sources</span>
			</div>
		</a>
		
		<ul id="toc-Sources-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Further_reading"
		class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Further_reading">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>Further reading</span>
			</div>
		</a>
		
		<ul id="toc-Further_reading-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-See_also"
		class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">6</span>
				<span>See also</span>
			</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-References"
		class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#References">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">7</span>
				<span>References</span>
			</div>
		</a>
		
		<ul id="toc-References-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body">
				<header class="mw-body-header vector-page-titlebar no-font-mode-scale">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left"  title="Table of Contents" >
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox "  aria-label="Toggle the table of contents"  >
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"  ><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Stochastic dynamic programming</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang"  >
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="This article is only available in this language. Add the article for other languages"   >
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-0" aria-hidden="true"  ><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">Add languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				
			</ul>
			<div class="after-portlet after-portlet-lang"><span class="uls-after-portlet-link"></span><span class="wb-langlinks-add wb-langlinks-link"><a href="https://www.wikidata.org/wiki/Special:EntityPage/Q28137009#sitelinks-wikipedia" title="Add interlanguage links" class="wbc-editpage">Add links</a></span></div>
		</div>

	</div>
</div>
</header>
				<div class="vector-page-toolbar vector-feature-custom-font-size-clientpref--excluded">
					<div class="vector-page-toolbar-container">
						<div id="left-navigation">
							<nav aria-label="Namespaces">
								
<div id="p-associated-pages" class="vector-menu vector-menu-tabs mw-portlet mw-portlet-associated-pages"  >
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="ca-nstab-main" class="selected vector-tab-noicon mw-list-item"><a href="/wiki/Stochastic_dynamic_programming" title="View the content page [c]" accesskey="c"><span>Article</span></a></li><li id="ca-talk" class="vector-tab-noicon mw-list-item"><a href="/wiki/Talk:Stochastic_dynamic_programming" rel="discussion" title="Discuss improvements to the content page [t]" accesskey="t"><span>Talk</span></a></li>
		</ul>
		
	</div>
</div>

								
<div id="vector-variants-dropdown" class="vector-dropdown emptyPortlet"  >
	<input type="checkbox" id="vector-variants-dropdown-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-variants-dropdown" class="vector-dropdown-checkbox " aria-label="Change language variant"   >
	<label id="vector-variants-dropdown-label" for="vector-variants-dropdown-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet" aria-hidden="true"  ><span class="vector-dropdown-label-text">English</span>
	</label>
	<div class="vector-dropdown-content">


					
<div id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet"  >
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			
		</ul>
		
	</div>
</div>

				
	</div>
</div>

							</nav>
						</div>
						<div id="right-navigation" class="vector-collapsible">
							<nav aria-label="Views">
								
<div id="p-views" class="vector-menu vector-menu-tabs mw-portlet mw-portlet-views"  >
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="ca-view" class="selected vector-tab-noicon mw-list-item"><a href="/wiki/Stochastic_dynamic_programming"><span>Read</span></a></li><li id="ca-edit" class="vector-tab-noicon mw-list-item"><a href="/w/index.php?title=Stochastic_dynamic_programming&amp;action=edit" title="Edit this page [e]" accesskey="e"><span>Edit</span></a></li><li id="ca-history" class="vector-tab-noicon mw-list-item"><a href="/w/index.php?title=Stochastic_dynamic_programming&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
		</ul>
		
	</div>
</div>

							</nav>
				
							<nav class="vector-page-tools-landmark" aria-label="Page tools">
								
<div id="vector-page-tools-dropdown" class="vector-dropdown vector-page-tools-dropdown"  >
	<input type="checkbox" id="vector-page-tools-dropdown-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-tools-dropdown" class="vector-dropdown-checkbox "  aria-label="Tools"  >
	<label id="vector-page-tools-dropdown-label" for="vector-page-tools-dropdown-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet" aria-hidden="true"  ><span class="vector-dropdown-label-text">Tools</span>
	</label>
	<div class="vector-dropdown-content">


									<div id="vector-page-tools-unpinned-container" class="vector-unpinned-container">
						
<div id="vector-page-tools" class="vector-page-tools vector-pinnable-element">
	<div
	class="vector-pinnable-header vector-page-tools-pinnable-header vector-pinnable-header-unpinned"
	data-feature-name="page-tools-pinned"
	data-pinnable-element-id="vector-page-tools"
	data-pinned-container-id="vector-page-tools-pinned-container"
	data-unpinned-container-id="vector-page-tools-unpinned-container"
>
	<div class="vector-pinnable-header-label">Tools</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-page-tools.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-page-tools.unpin">hide</button>
</div>

	
<div id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-has-collapsible-items"  title="More options" >
	<div class="vector-menu-heading">
		Actions
	</div>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="/wiki/Stochastic_dynamic_programming"><span>Read</span></a></li><li id="ca-more-edit" class="vector-more-collapsible-item mw-list-item"><a href="/w/index.php?title=Stochastic_dynamic_programming&amp;action=edit" title="Edit this page [e]" accesskey="e"><span>Edit</span></a></li><li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/w/index.php?title=Stochastic_dynamic_programming&amp;action=history"><span>View history</span></a></li>
		</ul>
		
	</div>
</div>

<div id="p-tb" class="vector-menu mw-portlet mw-portlet-tb"  >
	<div class="vector-menu-heading">
		General
	</div>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="t-whatlinkshere" class="mw-list-item"><a href="/wiki/Special:WhatLinksHere/Stochastic_dynamic_programming" title="List of all English Wikipedia pages containing links to this page [j]" accesskey="j"><span>What links here</span></a></li><li id="t-recentchangeslinked" class="mw-list-item"><a href="/wiki/Special:RecentChangesLinked/Stochastic_dynamic_programming" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k"><span>Related changes</span></a></li><li id="t-upload" class="mw-list-item"><a href="//en.wikipedia.org/wiki/Wikipedia:File_Upload_Wizard" title="Upload files [u]" accesskey="u"><span>Upload file</span></a></li><li id="t-permalink" class="mw-list-item"><a href="/w/index.php?title=Stochastic_dynamic_programming&amp;oldid=1281671356" title="Permanent link to this revision of this page"><span>Permanent link</span></a></li><li id="t-info" class="mw-list-item"><a href="/w/index.php?title=Stochastic_dynamic_programming&amp;action=info" title="More information about this page"><span>Page information</span></a></li><li id="t-cite" class="mw-list-item"><a href="/w/index.php?title=Special:CiteThisPage&amp;page=Stochastic_dynamic_programming&amp;id=1281671356&amp;wpFormIdentifier=titleform" title="Information on how to cite this page"><span>Cite this page</span></a></li><li id="t-urlshortener" class="mw-list-item"><a href="/w/index.php?title=Special:UrlShortener&amp;url=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FStochastic_dynamic_programming"><span>Get shortened URL</span></a></li><li id="t-urlshortener-qrcode" class="mw-list-item"><a href="/w/index.php?title=Special:QrCode&amp;url=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FStochastic_dynamic_programming"><span>Download QR code</span></a></li>
		</ul>
		
	</div>
</div>

<div id="p-coll-print_export" class="vector-menu mw-portlet mw-portlet-coll-print_export"  >
	<div class="vector-menu-heading">
		Print/export
	</div>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="coll-download-as-rl" class="mw-list-item"><a href="/w/index.php?title=Special:DownloadAsPdf&amp;page=Stochastic_dynamic_programming&amp;action=show-download-screen" title="Download this page as a PDF file"><span>Download as PDF</span></a></li><li id="t-print" class="mw-list-item"><a href="/w/index.php?title=Stochastic_dynamic_programming&amp;printable=yes" title="Printable version of this page [p]" accesskey="p"><span>Printable version</span></a></li>
		</ul>
		
	</div>
</div>

<div id="p-wikibase-otherprojects" class="vector-menu mw-portlet mw-portlet-wikibase-otherprojects"  >
	<div class="vector-menu-heading">
		In other projects
	</div>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="t-wikibase" class="wb-otherproject-link wb-otherproject-wikibase-dataitem mw-list-item"><a href="https://www.wikidata.org/wiki/Special:EntityPage/Q28137009" title="Structured data on this page hosted by Wikidata [g]" accesskey="g"><span>Wikidata item</span></a></li>
		</ul>
		
	</div>
</div>

</div>

									</div>
				
	</div>
</div>

							</nav>
						</div>
					</div>
				</div>
				<div class="vector-column-end no-font-mode-scale">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div
	class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned"
	data-feature-name="appearance-pinned"
	data-pinnable-element-id="vector-appearance"
	data-pinned-container-id="vector-appearance-pinned-container"
	data-unpinned-container-id="vector-appearance-unpinned-container"
>
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From Wikipedia, the free encyclopedia</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content"><div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr"><div class="shortdescription nomobile noexcerpt noprint searchaux" style="display:none">1957 technique for modelling problems of decision making under uncertainty</div>
<p>Originally introduced by <a href="/wiki/Richard_E._Bellman" title="Richard E. Bellman">Richard E. Bellman</a> in (<a href="#CITEREFBellman1957">Bellman 1957</a>), <b>stochastic dynamic programming</b> is a technique for modelling and solving problems of <a href="/wiki/Decision_theory#Choice_under_uncertainty" title="Decision theory">decision making under uncertainty</a>. Closely related to <a href="/wiki/Stochastic_programming" title="Stochastic programming">stochastic programming</a> and <a href="/wiki/Dynamic_programming" title="Dynamic programming">dynamic programming</a>, stochastic dynamic programming represents the problem under scrutiny in the form of a <a href="/wiki/Bellman_equation" title="Bellman equation">Bellman equation</a>. The aim is to compute a <a href="/wiki/Optimal_decision#Under_uncertainty_in_outcome" title="Optimal decision">policy</a> prescribing how to act optimally in the face of uncertainty.
</p>
<meta property="mw:PageProp/toc" />
<div class="mw-heading mw-heading2"><h2 id="A_motivating_example:_Gambling_game">A motivating example: Gambling game</h2><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Stochastic_dynamic_programming&amp;action=edit&amp;section=1" title="Edit section: A motivating example: Gambling game"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<p>A gambler has $2, she is allowed to play a game of chance 4 times and her goal is to maximize her probability of ending up with a least $6. If the gambler bets $<span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle b}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>b</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle b}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/f11423fbb2e967f986e36804a8ae4271734917c3" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:0.998ex; height:2.176ex;" alt="{\displaystyle b}"></span> on a play of the game, then with probability 0.4 she wins the game, recoup the initial bet, and she increases her capital position by $<span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle b}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>b</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle b}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/f11423fbb2e967f986e36804a8ae4271734917c3" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:0.998ex; height:2.176ex;" alt="{\displaystyle b}"></span>; with probability 0.6, she loses the bet amount $<span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle b}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>b</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle b}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/f11423fbb2e967f986e36804a8ae4271734917c3" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:0.998ex; height:2.176ex;" alt="{\displaystyle b}"></span>; all plays are <a href="/wiki/Pairwise_independence" title="Pairwise independence">pairwise independent</a>. On any play of the game, the gambler may not bet more money than she has available at the beginning of that play.<sup id="cite_ref-1" class="reference"><a href="#cite_note-1"><span class="cite-bracket">&#91;</span>1<span class="cite-bracket">&#93;</span></a></sup>
</p><p>Stochastic dynamic programming can be employed to model this problem and determine a betting strategy that, for instance, maximizes the gambler's probability of attaining a wealth of at least $6 by the end of the betting horizon.
</p><p>Note that if there is no limit to the number of games that can be played, the problem becomes a variant of the well known <a href="/wiki/St._Petersburg_paradox" title="St. Petersburg paradox">St. Petersburg paradox</a>.
</p>
<figure class="mw-halign-center" typeof="mw:File/Thumb"><a href="/wiki/File:Gambling_game_optimal_policy.png" class="mw-file-description"><img alt="Optimal betting strategy." src="//upload.wikimedia.org/wikipedia/commons/thumb/c/c7/Gambling_game_optimal_policy.png/960px-Gambling_game_optimal_policy.png" decoding="async" width="750" height="395" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/c/c7/Gambling_game_optimal_policy.png/1125px-Gambling_game_optimal_policy.png 1.5x, //upload.wikimedia.org/wikipedia/commons/c/c7/Gambling_game_optimal_policy.png 2x" data-file-width="1324" data-file-height="697" /></a><figcaption>An optimal betting strategy that maximizes the gambler's probability of attaining a wealth of at least $6 by the end of the betting horizon; <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle b_{t}(\$x)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>b</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mi mathvariant="normal">&#x0024;<!-- $ --></mi>
        <mi>x</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle b_{t}(\$x)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/55b0498d82df494faa5d4ddae98f82d4b5922d4c" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:6.125ex; height:2.843ex;" alt="{\displaystyle b_{t}(\$x)}"></span> represents the bet amount for game <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle t}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>t</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle t}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/65658b7b223af9e1acc877d848888ecdb4466560" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:0.84ex; height:2.009ex;" alt="{\displaystyle t}"></span> when the gambler has $<span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle x}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>x</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle x}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/87f9e315fd7e2ba406057a97300593c4802b53e4" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:1.33ex; height:1.676ex;" alt="{\displaystyle x}"></span> at the beginning of that play. If the decision maker follows this policy, with probability 0.1984 she will attain a wealth of at least $6.</figcaption></figure>
<div class="mw-heading mw-heading2"><h2 id="Formal_background">Formal background</h2><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Stochastic_dynamic_programming&amp;action=edit&amp;section=2" title="Edit section: Formal background"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<p>Consider a discrete system defined on <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle n}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>n</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle n}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a601995d55609f2d9f5e233e36fbe9ea26011b3b" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:1.395ex; height:1.676ex;" alt="{\displaystyle n}"></span> stages in which each stage <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle t=1,\ldots ,n}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>t</mi>
        <mo>=</mo>
        <mn>1</mn>
        <mo>,</mo>
        <mo>&#x2026;<!-- … --></mo>
        <mo>,</mo>
        <mi>n</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle t=1,\ldots ,n}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/1539e9238813e3f3029fe40fcb16975308ce6fea" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.671ex; width:11.673ex; height:2.509ex;" alt="{\displaystyle t=1,\ldots ,n}"></span> is characterized by
</p>
<ul><li>an <b>initial state</b> <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle s_{t}\in S_{t}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>s</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
        <mo>&#x2208;<!-- ∈ --></mo>
        <msub>
          <mi>S</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle s_{t}\in S_{t}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/85b78785415506783b288515c6f66605fa2aac14" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.671ex; width:7.008ex; height:2.509ex;" alt="{\displaystyle s_{t}\in S_{t}}"></span>, where <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle S_{t}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>S</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle S_{t}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/7e2391e6e796fbf718be3828080775ac2ac3d3d4" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.671ex; width:2.251ex; height:2.509ex;" alt="{\displaystyle S_{t}}"></span> is the set of feasible states at the beginning of stage <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle t}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>t</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle t}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/65658b7b223af9e1acc877d848888ecdb4466560" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:0.84ex; height:2.009ex;" alt="{\displaystyle t}"></span>;</li>
<li>a <b>decision variable</b> <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle x_{t}\in X_{t}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
        <mo>&#x2208;<!-- ∈ --></mo>
        <msub>
          <mi>X</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle x_{t}\in X_{t}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/6b279e593e71212b7bbe4847ecf499eedf5d6acb" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.671ex; width:7.747ex; height:2.509ex;" alt="{\displaystyle x_{t}\in X_{t}}"></span>, where <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle X_{t}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>X</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle X_{t}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/82120d04dfb3cbadc4912951dd12b5568c9cd8f3" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.671ex; width:2.75ex; height:2.509ex;" alt="{\displaystyle X_{t}}"></span> is the set of feasible actions at stage <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle t}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>t</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle t}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/65658b7b223af9e1acc877d848888ecdb4466560" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:0.84ex; height:2.009ex;" alt="{\displaystyle t}"></span> – note that <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle X_{t}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>X</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle X_{t}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/82120d04dfb3cbadc4912951dd12b5568c9cd8f3" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.671ex; width:2.75ex; height:2.509ex;" alt="{\displaystyle X_{t}}"></span> may be a function of the initial state <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle s_{t}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>s</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle s_{t}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/92a402d151a0173378ee252a634c77898ebe4b06" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.671ex; width:1.916ex; height:2.009ex;" alt="{\displaystyle s_{t}}"></span>;</li>
<li>an <b>immediate cost/reward function</b> <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle p_{t}(s_{t},x_{t})}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>p</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <msub>
          <mi>s</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
        <mo>,</mo>
        <msub>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle p_{t}(s_{t},x_{t})}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/7e052d91740a4df8b98d2694e87cc2dbb8b11f20" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; margin-left: -0.089ex; width:9ex; height:2.843ex;" alt="{\displaystyle p_{t}(s_{t},x_{t})}"></span>, representing the cost/reward at stage <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle t}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>t</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle t}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/65658b7b223af9e1acc877d848888ecdb4466560" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:0.84ex; height:2.009ex;" alt="{\displaystyle t}"></span> if <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle s_{t}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>s</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle s_{t}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/92a402d151a0173378ee252a634c77898ebe4b06" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.671ex; width:1.916ex; height:2.009ex;" alt="{\displaystyle s_{t}}"></span> is the initial state and <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle x_{t}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle x_{t}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/f279a30bc8eabc788f3fe81c9cfb674e72e858db" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.671ex; width:2.156ex; height:2.009ex;" alt="{\displaystyle x_{t}}"></span> the action selected;</li>
<li>a <b>state transition function</b> <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle g_{t}(s_{t},x_{t})}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>g</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <msub>
          <mi>s</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
        <mo>,</mo>
        <msub>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle g_{t}(s_{t},x_{t})}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/d74f77f8a283193b8fa966462cb45edc65e73916" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:8.85ex; height:2.843ex;" alt="{\displaystyle g_{t}(s_{t},x_{t})}"></span> that leads the system towards state <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle s_{t+1}=g_{t}(s_{t},x_{t})}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>s</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
            <mo>+</mo>
            <mn>1</mn>
          </mrow>
        </msub>
        <mo>=</mo>
        <msub>
          <mi>g</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <msub>
          <mi>s</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
        <mo>,</mo>
        <msub>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle s_{t+1}=g_{t}(s_{t},x_{t})}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/62610734128c63a1521baea0445e42fb5c7320c5" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:15.966ex; height:2.843ex;" alt="{\displaystyle s_{t+1}=g_{t}(s_{t},x_{t})}"></span>.</li></ul>
<p>Let <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{t}(s_{t})}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <msub>
          <mi>s</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{t}(s_{t})}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/3956883a7bbbf263228dc47ee1c322ac9eb69992" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:5.691ex; height:2.843ex;" alt="{\displaystyle f_{t}(s_{t})}"></span> represent the optimal cost/reward obtained by following an <i>optimal policy</i> over stages <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle t,t+1,\ldots ,n}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>t</mi>
        <mo>,</mo>
        <mi>t</mi>
        <mo>+</mo>
        <mn>1</mn>
        <mo>,</mo>
        <mo>&#x2026;<!-- … --></mo>
        <mo>,</mo>
        <mi>n</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle t,t+1,\ldots ,n}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/51c5d1afed805052b162c81180db496d0a5cdc4e" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.671ex; width:13.289ex; height:2.509ex;" alt="{\displaystyle t,t+1,\ldots ,n}"></span>. <a href="/wiki/Without_loss_of_generality" title="Without loss of generality">Without loss of generality</a> in what follow we will consider a reward maximisation setting. In deterministic <a href="/wiki/Dynamic_programming" title="Dynamic programming">dynamic programming</a> one usually deals with <a href="/wiki/Functional_equation" title="Functional equation">functional equations</a> taking the following structure
</p>
<dl><dd><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{t}(s_{t})=\max _{x_{t}\in X_{t}}\{p_{t}(s_{t},x_{t})+f_{t+1}(s_{t+1})\}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <msub>
          <mi>s</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <munder>
          <mo movablelimits="true" form="prefix">max</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <msub>
              <mi>x</mi>
              <mrow class="MJX-TeXAtom-ORD">
                <mi>t</mi>
              </mrow>
            </msub>
            <mo>&#x2208;<!-- ∈ --></mo>
            <msub>
              <mi>X</mi>
              <mrow class="MJX-TeXAtom-ORD">
                <mi>t</mi>
              </mrow>
            </msub>
          </mrow>
        </munder>
        <mo fence="false" stretchy="false">{</mo>
        <msub>
          <mi>p</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <msub>
          <mi>s</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
        <mo>,</mo>
        <msub>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
        <mo>+</mo>
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
            <mo>+</mo>
            <mn>1</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <msub>
          <mi>s</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
            <mo>+</mo>
            <mn>1</mn>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
        <mo fence="false" stretchy="false">}</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{t}(s_{t})=\max _{x_{t}\in X_{t}}\{p_{t}(s_{t},x_{t})+f_{t+1}(s_{t+1})\}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/27aa4b91904513aed8060aa531a35a03b0d6e942" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -2.338ex; width:37.447ex; height:4.343ex;" alt="{\displaystyle f_{t}(s_{t})=\max _{x_{t}\in X_{t}}\{p_{t}(s_{t},x_{t})+f_{t+1}(s_{t+1})\}}"></span></dd></dl>
<p>where <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle s_{t+1}=g_{t}(s_{t},x_{t})}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>s</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
            <mo>+</mo>
            <mn>1</mn>
          </mrow>
        </msub>
        <mo>=</mo>
        <msub>
          <mi>g</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <msub>
          <mi>s</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
        <mo>,</mo>
        <msub>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle s_{t+1}=g_{t}(s_{t},x_{t})}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/62610734128c63a1521baea0445e42fb5c7320c5" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:15.966ex; height:2.843ex;" alt="{\displaystyle s_{t+1}=g_{t}(s_{t},x_{t})}"></span> and the boundary condition of the system is 
</p>
<dl><dd><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{n}(s_{n})=\max _{x_{n}\in X_{n}}\{p_{n}(s_{n},x_{n})\}.}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>n</mi>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <msub>
          <mi>s</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>n</mi>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <munder>
          <mo movablelimits="true" form="prefix">max</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <msub>
              <mi>x</mi>
              <mrow class="MJX-TeXAtom-ORD">
                <mi>n</mi>
              </mrow>
            </msub>
            <mo>&#x2208;<!-- ∈ --></mo>
            <msub>
              <mi>X</mi>
              <mrow class="MJX-TeXAtom-ORD">
                <mi>n</mi>
              </mrow>
            </msub>
          </mrow>
        </munder>
        <mo fence="false" stretchy="false">{</mo>
        <msub>
          <mi>p</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>n</mi>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <msub>
          <mi>s</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>n</mi>
          </mrow>
        </msub>
        <mo>,</mo>
        <msub>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>n</mi>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
        <mo fence="false" stretchy="false">}</mo>
        <mo>.</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{n}(s_{n})=\max _{x_{n}\in X_{n}}\{p_{n}(s_{n},x_{n})\}.}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/3ef97dece2deac05b30ea6edf101fc9752ddc10f" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -2.338ex; width:27.961ex; height:4.343ex;" alt="{\displaystyle f_{n}(s_{n})=\max _{x_{n}\in X_{n}}\{p_{n}(s_{n},x_{n})\}.}"></span></dd></dl>
<p>The aim is to determine the set of optimal actions that maximise <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{1}(s_{1})}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>1</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <msub>
          <mi>s</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>1</mn>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{1}(s_{1})}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/952e7660fd53cb81ccf6ccc095d951a89bc6a34c" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:6.147ex; height:2.843ex;" alt="{\displaystyle f_{1}(s_{1})}"></span>. Given the current state <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle s_{t}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>s</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle s_{t}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/92a402d151a0173378ee252a634c77898ebe4b06" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.671ex; width:1.916ex; height:2.009ex;" alt="{\displaystyle s_{t}}"></span> and the current action <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle x_{t}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle x_{t}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/f279a30bc8eabc788f3fe81c9cfb674e72e858db" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.671ex; width:2.156ex; height:2.009ex;" alt="{\displaystyle x_{t}}"></span>, we <i>know with certainty</i> the reward secured during the current stage and – thanks to the state transition function <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle g_{t}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>g</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle g_{t}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/41456e69ac70ddc3b17c94885bc75700f5a151e9" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.671ex; width:1.935ex; height:2.009ex;" alt="{\displaystyle g_{t}}"></span> – the future state towards which the system transitions.
</p><p>In practice, however, even if we know the state of the system at the beginning of the current stage as well as the decision taken, the state of the system at the beginning of the next stage and the current period reward are often <a href="/wiki/Random_variable" title="Random variable">random variables</a> that can be observed only at the end of the current stage.
</p><p><b>Stochastic dynamic programming</b> deals with problems in which the current period reward and/or the next period state are random, i.e. with multi-stage stochastic systems. The decision maker's goal is to maximise expected (discounted) reward over a given planning horizon.
</p><p>In their most general form, stochastic dynamic programs deal with functional equations taking the following structure
</p>
<dl><dd><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{t}(s_{t})=\max _{x_{t}\in X_{t}(s_{t})}\left\{({\text{expected reward during stage }}t\mid s_{t},x_{t})+\alpha \sum _{s_{t+1}}\Pr(s_{t+1}\mid s_{t},x_{t})f_{t+1}(s_{t+1})\right\}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <msub>
          <mi>s</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <munder>
          <mo movablelimits="true" form="prefix">max</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <msub>
              <mi>x</mi>
              <mrow class="MJX-TeXAtom-ORD">
                <mi>t</mi>
              </mrow>
            </msub>
            <mo>&#x2208;<!-- ∈ --></mo>
            <msub>
              <mi>X</mi>
              <mrow class="MJX-TeXAtom-ORD">
                <mi>t</mi>
              </mrow>
            </msub>
            <mo stretchy="false">(</mo>
            <msub>
              <mi>s</mi>
              <mrow class="MJX-TeXAtom-ORD">
                <mi>t</mi>
              </mrow>
            </msub>
            <mo stretchy="false">)</mo>
          </mrow>
        </munder>
        <mrow>
          <mo>{</mo>
          <mrow>
            <mo stretchy="false">(</mo>
            <mrow class="MJX-TeXAtom-ORD">
              <mtext>expected reward during stage&#xA0;</mtext>
            </mrow>
            <mi>t</mi>
            <mo>&#x2223;<!-- ∣ --></mo>
            <msub>
              <mi>s</mi>
              <mrow class="MJX-TeXAtom-ORD">
                <mi>t</mi>
              </mrow>
            </msub>
            <mo>,</mo>
            <msub>
              <mi>x</mi>
              <mrow class="MJX-TeXAtom-ORD">
                <mi>t</mi>
              </mrow>
            </msub>
            <mo stretchy="false">)</mo>
            <mo>+</mo>
            <mi>&#x03B1;<!-- α --></mi>
            <munder>
              <mo>&#x2211;<!-- ∑ --></mo>
              <mrow class="MJX-TeXAtom-ORD">
                <msub>
                  <mi>s</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>t</mi>
                    <mo>+</mo>
                    <mn>1</mn>
                  </mrow>
                </msub>
              </mrow>
            </munder>
            <mo movablelimits="true" form="prefix">Pr</mo>
            <mo stretchy="false">(</mo>
            <msub>
              <mi>s</mi>
              <mrow class="MJX-TeXAtom-ORD">
                <mi>t</mi>
                <mo>+</mo>
                <mn>1</mn>
              </mrow>
            </msub>
            <mo>&#x2223;<!-- ∣ --></mo>
            <msub>
              <mi>s</mi>
              <mrow class="MJX-TeXAtom-ORD">
                <mi>t</mi>
              </mrow>
            </msub>
            <mo>,</mo>
            <msub>
              <mi>x</mi>
              <mrow class="MJX-TeXAtom-ORD">
                <mi>t</mi>
              </mrow>
            </msub>
            <mo stretchy="false">)</mo>
            <msub>
              <mi>f</mi>
              <mrow class="MJX-TeXAtom-ORD">
                <mi>t</mi>
                <mo>+</mo>
                <mn>1</mn>
              </mrow>
            </msub>
            <mo stretchy="false">(</mo>
            <msub>
              <mi>s</mi>
              <mrow class="MJX-TeXAtom-ORD">
                <mi>t</mi>
                <mo>+</mo>
                <mn>1</mn>
              </mrow>
            </msub>
            <mo stretchy="false">)</mo>
          </mrow>
          <mo>}</mo>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{t}(s_{t})=\max _{x_{t}\in X_{t}(s_{t})}\left\{({\text{expected reward during stage }}t\mid s_{t},x_{t})+\alpha \sum _{s_{t+1}}\Pr(s_{t+1}\mid s_{t},x_{t})f_{t+1}(s_{t+1})\right\}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/fea39a1dd32fbf8afea6fe90aa73eee4e45b6578" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -3.338ex; width:93.649ex; height:7.676ex;" alt="{\displaystyle f_{t}(s_{t})=\max _{x_{t}\in X_{t}(s_{t})}\left\{({\text{expected reward during stage }}t\mid s_{t},x_{t})+\alpha \sum _{s_{t+1}}\Pr(s_{t+1}\mid s_{t},x_{t})f_{t+1}(s_{t+1})\right\}}"></span></dd></dl>
<p>where
</p>
<ul><li><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{t}(s_{t})}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <msub>
          <mi>s</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{t}(s_{t})}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/3956883a7bbbf263228dc47ee1c322ac9eb69992" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:5.691ex; height:2.843ex;" alt="{\displaystyle f_{t}(s_{t})}"></span> is the maximum expected reward that can be attained during stages <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle t,t+1,\ldots ,n}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>t</mi>
        <mo>,</mo>
        <mi>t</mi>
        <mo>+</mo>
        <mn>1</mn>
        <mo>,</mo>
        <mo>&#x2026;<!-- … --></mo>
        <mo>,</mo>
        <mi>n</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle t,t+1,\ldots ,n}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/51c5d1afed805052b162c81180db496d0a5cdc4e" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.671ex; width:13.289ex; height:2.509ex;" alt="{\displaystyle t,t+1,\ldots ,n}"></span>, given state <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle s_{t}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>s</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle s_{t}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/92a402d151a0173378ee252a634c77898ebe4b06" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.671ex; width:1.916ex; height:2.009ex;" alt="{\displaystyle s_{t}}"></span> at the beginning of stage <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle t}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>t</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle t}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/65658b7b223af9e1acc877d848888ecdb4466560" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:0.84ex; height:2.009ex;" alt="{\displaystyle t}"></span>;</li>
<li><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle x_{t}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle x_{t}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/f279a30bc8eabc788f3fe81c9cfb674e72e858db" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.671ex; width:2.156ex; height:2.009ex;" alt="{\displaystyle x_{t}}"></span> belongs to the set <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle X_{t}(s_{t})}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>X</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <msub>
          <mi>s</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle X_{t}(s_{t})}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/54e4ae1f88907d62c2c3353f41088b9b27f97fb7" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:6.476ex; height:2.843ex;" alt="{\displaystyle X_{t}(s_{t})}"></span> of feasible actions at stage <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle t}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>t</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle t}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/65658b7b223af9e1acc877d848888ecdb4466560" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:0.84ex; height:2.009ex;" alt="{\displaystyle t}"></span> given initial state <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle s_{t}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>s</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle s_{t}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/92a402d151a0173378ee252a634c77898ebe4b06" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.671ex; width:1.916ex; height:2.009ex;" alt="{\displaystyle s_{t}}"></span>;</li>
<li><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \alpha }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>&#x03B1;<!-- α --></mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \alpha }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b79333175c8b3f0840bfb4ec41b8072c83ea88d3" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:1.488ex; height:1.676ex;" alt="{\displaystyle \alpha }"></span> is the <a href="/wiki/Discounting#Discount_factor" title="Discounting">discount factor</a>;</li>
<li><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \Pr(s_{t+1}\mid s_{t},x_{t})}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo movablelimits="true" form="prefix">Pr</mo>
        <mo stretchy="false">(</mo>
        <msub>
          <mi>s</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
            <mo>+</mo>
            <mn>1</mn>
          </mrow>
        </msub>
        <mo>&#x2223;<!-- ∣ --></mo>
        <msub>
          <mi>s</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
        <mo>,</mo>
        <msub>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \Pr(s_{t+1}\mid s_{t},x_{t})}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/98d374b3133654271bc17c627f72d962d77dd876" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:15.364ex; height:2.843ex;" alt="{\displaystyle \Pr(s_{t+1}\mid s_{t},x_{t})}"></span> is the <a href="/wiki/Conditional_probability" title="Conditional probability">conditional probability</a> that the state at the end of stage <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle t}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>t</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle t}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/65658b7b223af9e1acc877d848888ecdb4466560" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:0.84ex; height:2.009ex;" alt="{\displaystyle t}"></span> is <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle s_{t+1}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>s</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
            <mo>+</mo>
            <mn>1</mn>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle s_{t+1}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/04abef475db835d93c80da6dcbc6bf5acaac1329" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.671ex; width:4.017ex; height:2.009ex;" alt="{\displaystyle s_{t+1}}"></span> given current state <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle s_{t}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>s</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle s_{t}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/92a402d151a0173378ee252a634c77898ebe4b06" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.671ex; width:1.916ex; height:2.009ex;" alt="{\displaystyle s_{t}}"></span> and selected action <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle x_{t}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle x_{t}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/f279a30bc8eabc788f3fe81c9cfb674e72e858db" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.671ex; width:2.156ex; height:2.009ex;" alt="{\displaystyle x_{t}}"></span>.</li></ul>
<p><a href="/wiki/Markov_decision_process" title="Markov decision process">Markov decision processes</a> represent a special class of stochastic dynamic programs in which the underlying <a href="/wiki/Stochastic_process" title="Stochastic process">stochastic process</a> is a <a href="/wiki/Stationary_process" title="Stationary process">stationary process</a> that features the <a href="/wiki/Markov_property" title="Markov property">Markov property</a>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Gambling_game_as_a_stochastic_dynamic_program">Gambling game as a stochastic dynamic program</h3><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Stochastic_dynamic_programming&amp;action=edit&amp;section=3" title="Edit section: Gambling game as a stochastic dynamic program"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<p>Gambling game can be formulated as a Stochastic Dynamic Program as follows: there are <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle n=4}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>n</mi>
        <mo>=</mo>
        <mn>4</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle n=4}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/d928ec15aeef83aade867992ee473933adb6139d" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:5.656ex; height:2.176ex;" alt="{\displaystyle n=4}"></span> games (i.e. <b>stages</b>) in the planning horizon
</p>
<ul><li>the <b>state</b> <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle s}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>s</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle s}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/01d131dfd7673938b947072a13a9744fe997e632" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:1.09ex; height:1.676ex;" alt="{\displaystyle s}"></span> in period <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle t}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>t</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle t}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/65658b7b223af9e1acc877d848888ecdb4466560" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:0.84ex; height:2.009ex;" alt="{\displaystyle t}"></span> represents the initial wealth at the beginning of period <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle t}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>t</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle t}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/65658b7b223af9e1acc877d848888ecdb4466560" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:0.84ex; height:2.009ex;" alt="{\displaystyle t}"></span>;</li>
<li>the <b>action</b> given state <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle s}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>s</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle s}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/01d131dfd7673938b947072a13a9744fe997e632" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:1.09ex; height:1.676ex;" alt="{\displaystyle s}"></span> in period <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle t}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>t</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle t}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/65658b7b223af9e1acc877d848888ecdb4466560" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:0.84ex; height:2.009ex;" alt="{\displaystyle t}"></span> is the bet amount <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle b}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>b</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle b}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/f11423fbb2e967f986e36804a8ae4271734917c3" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:0.998ex; height:2.176ex;" alt="{\displaystyle b}"></span>;</li>
<li>the <b>transition probability</b> <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle p_{i,j}^{a}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msubsup>
          <mi>p</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
            <mo>,</mo>
            <mi>j</mi>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>a</mi>
          </mrow>
        </msubsup>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle p_{i,j}^{a}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/25d35ee09c546f837c1c42c754444a27c5148738" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -1.338ex; margin-left: -0.089ex; width:3.193ex; height:3.176ex;" alt="{\displaystyle p_{i,j}^{a}}"></span> from state <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle i}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>i</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle i}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/add78d8608ad86e54951b8c8bd6c8d8416533d20" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:0.802ex; height:2.176ex;" alt="{\displaystyle i}"></span> to state <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle j}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>j</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle j}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/2f461e54f5c093e92a55547b9764291390f0b5d0" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.671ex; margin-left: -0.027ex; width:0.985ex; height:2.509ex;" alt="{\displaystyle j}"></span> when action <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle a}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>a</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle a}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/ffd2487510aa438433a2579450ab2b3d557e5edc" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:1.23ex; height:1.676ex;" alt="{\displaystyle a}"></span> is taken in state <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle i}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>i</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle i}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/add78d8608ad86e54951b8c8bd6c8d8416533d20" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:0.802ex; height:2.176ex;" alt="{\displaystyle i}"></span> is easily derived from the probability of winning (0.4) or losing (0.6) a game.</li></ul>
<p>Let <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{t}(s)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mi>s</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{t}(s)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/7b0e464813005e986aa49ccfcb777667f24e09d9" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:4.865ex; height:2.843ex;" alt="{\displaystyle f_{t}(s)}"></span> be the probability that, by the end of game 4, the gambler has at least $6, given that she has $<span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle s}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>s</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle s}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/01d131dfd7673938b947072a13a9744fe997e632" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:1.09ex; height:1.676ex;" alt="{\displaystyle s}"></span> at the beginning of game <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle t}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>t</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle t}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/65658b7b223af9e1acc877d848888ecdb4466560" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:0.84ex; height:2.009ex;" alt="{\displaystyle t}"></span>. 
</p>
<ul><li>the <b>immediate profit</b> incurred if action <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle b}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>b</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle b}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/f11423fbb2e967f986e36804a8ae4271734917c3" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:0.998ex; height:2.176ex;" alt="{\displaystyle b}"></span> is taken in state <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle s}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>s</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle s}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/01d131dfd7673938b947072a13a9744fe997e632" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:1.09ex; height:1.676ex;" alt="{\displaystyle s}"></span> is given by the expected value <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle p_{t}(s,b)=0.4f_{t+1}(s+b)+0.6f_{t+1}(s-b)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>p</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mi>s</mi>
        <mo>,</mo>
        <mi>b</mi>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <mn>0.4</mn>
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
            <mo>+</mo>
            <mn>1</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mi>s</mi>
        <mo>+</mo>
        <mi>b</mi>
        <mo stretchy="false">)</mo>
        <mo>+</mo>
        <mn>0.6</mn>
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
            <mo>+</mo>
            <mn>1</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mi>s</mi>
        <mo>&#x2212;<!-- − --></mo>
        <mi>b</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle p_{t}(s,b)=0.4f_{t+1}(s+b)+0.6f_{t+1}(s-b)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/eb9ae7d59d9c9ed0d323cbf9ea6e8ec43b51f499" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; margin-left: -0.089ex; width:40.505ex; height:2.843ex;" alt="{\displaystyle p_{t}(s,b)=0.4f_{t+1}(s+b)+0.6f_{t+1}(s-b)}"></span>.</li></ul>
<p>To derive the <b>functional equation</b>, define <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle b_{t}(s)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>b</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mi>s</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle b_{t}(s)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/bfe14566d20f216d117c103ba80e6ff1b1a8dbbf" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:4.723ex; height:2.843ex;" alt="{\displaystyle b_{t}(s)}"></span> as a bet that attains <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{t}(s)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mi>s</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{t}(s)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/7b0e464813005e986aa49ccfcb777667f24e09d9" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:4.865ex; height:2.843ex;" alt="{\displaystyle f_{t}(s)}"></span>, then at the beginning of game <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle t=4}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>t</mi>
        <mo>=</mo>
        <mn>4</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle t=4}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/0238d0120c2e9511ea254bb7982dbbdabf923e0c" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:5.101ex; height:2.176ex;" alt="{\displaystyle t=4}"></span>
</p>
<ul><li>if <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle s&lt;3}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>s</mi>
        <mo>&lt;</mo>
        <mn>3</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle s&lt;3}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/c07bc24bf3915df40e34409e359ef24158e01ec2" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:5.351ex; height:2.176ex;" alt="{\displaystyle s&lt;3}"></span> it is impossible to attain the goal, i.e. <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{4}(s)=0}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>4</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mi>s</mi>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <mn>0</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{4}(s)=0}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/fae783f18ec7c948b83bf0f7a22c6fbdad400244" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:9.354ex; height:2.843ex;" alt="{\displaystyle f_{4}(s)=0}"></span> for <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle s&lt;3}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>s</mi>
        <mo>&lt;</mo>
        <mn>3</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle s&lt;3}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/c07bc24bf3915df40e34409e359ef24158e01ec2" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:5.351ex; height:2.176ex;" alt="{\displaystyle s&lt;3}"></span>;</li>
<li>if <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle s\geq 6}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>s</mi>
        <mo>&#x2265;<!-- ≥ --></mo>
        <mn>6</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle s\geq 6}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/53c493c2deda78331a7c9aca0e091f5927e1d502" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.505ex; width:5.351ex; height:2.343ex;" alt="{\displaystyle s\geq 6}"></span> the goal is attained, i.e. <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{4}(s)=1}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>4</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mi>s</mi>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <mn>1</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{4}(s)=1}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a4e94bda938aefcb2b00d1b94aaf976495ec8d29" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:9.354ex; height:2.843ex;" alt="{\displaystyle f_{4}(s)=1}"></span> for <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle s\geq 6}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>s</mi>
        <mo>&#x2265;<!-- ≥ --></mo>
        <mn>6</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle s\geq 6}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/53c493c2deda78331a7c9aca0e091f5927e1d502" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.505ex; width:5.351ex; height:2.343ex;" alt="{\displaystyle s\geq 6}"></span>;</li>
<li>if <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle 3\leq s\leq 5}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mn>3</mn>
        <mo>&#x2264;<!-- ≤ --></mo>
        <mi>s</mi>
        <mo>&#x2264;<!-- ≤ --></mo>
        <mn>5</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle 3\leq s\leq 5}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/dbbed7ff809dca9b8bb5c37e31efb2765230e45c" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.505ex; width:9.612ex; height:2.343ex;" alt="{\displaystyle 3\leq s\leq 5}"></span> the gambler should bet enough to attain the goal, i.e. <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{4}(s)=0.4}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>4</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mi>s</mi>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <mn>0.4</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{4}(s)=0.4}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/f970e1568489933745218f664fb4a77ba5abab87" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:11.163ex; height:2.843ex;" alt="{\displaystyle f_{4}(s)=0.4}"></span> for <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle 3\leq s\leq 5}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mn>3</mn>
        <mo>&#x2264;<!-- ≤ --></mo>
        <mi>s</mi>
        <mo>&#x2264;<!-- ≤ --></mo>
        <mn>5</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle 3\leq s\leq 5}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/dbbed7ff809dca9b8bb5c37e31efb2765230e45c" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.505ex; width:9.612ex; height:2.343ex;" alt="{\displaystyle 3\leq s\leq 5}"></span>.</li></ul>
<p>For <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle t&lt;4}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>t</mi>
        <mo>&lt;</mo>
        <mn>4</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle t&lt;4}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/ecd62ad279ae32496f1a2d511861f115a7691bd4" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:5.101ex; height:2.176ex;" alt="{\displaystyle t&lt;4}"></span> the functional equation is <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{t}(s)=\max _{b_{t}(s)}\{0.4f_{t+1}(s+b)+0.6f_{t+1}(s-b)\}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mi>s</mi>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <munder>
          <mo movablelimits="true" form="prefix">max</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <msub>
              <mi>b</mi>
              <mrow class="MJX-TeXAtom-ORD">
                <mi>t</mi>
              </mrow>
            </msub>
            <mo stretchy="false">(</mo>
            <mi>s</mi>
            <mo stretchy="false">)</mo>
          </mrow>
        </munder>
        <mo fence="false" stretchy="false">{</mo>
        <mn>0.4</mn>
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
            <mo>+</mo>
            <mn>1</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mi>s</mi>
        <mo>+</mo>
        <mi>b</mi>
        <mo stretchy="false">)</mo>
        <mo>+</mo>
        <mn>0.6</mn>
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
            <mo>+</mo>
            <mn>1</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mi>s</mi>
        <mo>&#x2212;<!-- − --></mo>
        <mi>b</mi>
        <mo stretchy="false">)</mo>
        <mo fence="false" stretchy="false">}</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{t}(s)=\max _{b_{t}(s)}\{0.4f_{t+1}(s+b)+0.6f_{t+1}(s-b)\}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/8c5eeeb5f246162011878a3250f14ff6eac13299" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -2.505ex; width:45.005ex; height:4.509ex;" alt="{\displaystyle f_{t}(s)=\max _{b_{t}(s)}\{0.4f_{t+1}(s+b)+0.6f_{t+1}(s-b)\}}"></span>, where <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle b_{t}(s)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>b</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mi>s</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle b_{t}(s)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/bfe14566d20f216d117c103ba80e6ff1b1a8dbbf" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:4.723ex; height:2.843ex;" alt="{\displaystyle b_{t}(s)}"></span> ranges in <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle 0,...,s}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mn>0</mn>
        <mo>,</mo>
        <mo>.</mo>
        <mo>.</mo>
        <mo>.</mo>
        <mo>,</mo>
        <mi>s</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle 0,...,s}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/8e7f9b270ec4eb6a82b4a7c9464671a330610503" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.671ex; width:7.423ex; height:2.509ex;" alt="{\displaystyle 0,...,s}"></span>; the aim is to find <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{1}(2)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>1</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>2</mn>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{1}(2)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/4d784baddefe122c97bdbcfd89eef77121523962" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:5.165ex; height:2.843ex;" alt="{\displaystyle f_{1}(2)}"></span>.
</p><p>Given the functional equation, an optimal betting policy can be obtained via forward recursion or backward recursion algorithms, as outlined below.
</p>
<div class="mw-heading mw-heading2"><h2 id="Solution_methods">Solution methods</h2><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Stochastic_dynamic_programming&amp;action=edit&amp;section=4" title="Edit section: Solution methods"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<p>Stochastic dynamic programs can be solved to optimality by using <a class="mw-selflink-fragment" href="#Backward_recursion">backward recursion</a> or <a class="mw-selflink-fragment" href="#Forward_recursion">forward recursion</a> algorithms. <a href="/wiki/Memoization" title="Memoization">Memoization</a> is typically employed to enhance performance. However, like deterministic dynamic programming also its stochastic variant suffers from the <a href="/wiki/Curse_of_dimensionality" title="Curse of dimensionality">curse of dimensionality</a>. For this reason <a class="mw-selflink-fragment" href="#Approximate_dynamic_programming">approximate solution methods</a> are typically employed in practical applications.
</p>
<div class="mw-heading mw-heading3"><h3 id="Backward_recursion">Backward recursion</h3><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Stochastic_dynamic_programming&amp;action=edit&amp;section=5" title="Edit section: Backward recursion"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<p>Given a bounded state space, <i>backward recursion</i> (<a href="#CITEREFBertsekas2000">Bertsekas 2000</a>) begins by tabulating <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{n}(k)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>n</mi>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mi>k</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{n}(k)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/8a7e2b678a7a0f1a7cde3b8687b6d7808cd6e5cc" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:5.378ex; height:2.843ex;" alt="{\displaystyle f_{n}(k)}"></span> for every possible state <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle k}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>k</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle k}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/c3c9a2c7b599b37105512c5d570edc034056dd40" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:1.211ex; height:2.176ex;" alt="{\displaystyle k}"></span> belonging to the final stage <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle n}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>n</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle n}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a601995d55609f2d9f5e233e36fbe9ea26011b3b" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:1.395ex; height:1.676ex;" alt="{\displaystyle n}"></span>. Once these values are tabulated, together with the associated optimal state-dependent actions <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle x_{n}(k)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>n</mi>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mi>k</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle x_{n}(k)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/924c717ce9f37a2cdc0e2452fd009061c9219cc6" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:5.569ex; height:2.843ex;" alt="{\displaystyle x_{n}(k)}"></span>, it is possible to move to stage <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle n-1}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>n</mi>
        <mo>&#x2212;<!-- − --></mo>
        <mn>1</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle n-1}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/fbd0b0f32b28f51962943ee9ede4fb34198a2521" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.505ex; width:5.398ex; height:2.343ex;" alt="{\displaystyle n-1}"></span> and tabulate <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{n-1}(k)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>n</mi>
            <mo>&#x2212;<!-- − --></mo>
            <mn>1</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mi>k</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{n-1}(k)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/87cf500124ca131565a717737e9ff5e37197e9e2" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:7.479ex; height:2.843ex;" alt="{\displaystyle f_{n-1}(k)}"></span> for all possible states belonging to the stage <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle n-1}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>n</mi>
        <mo>&#x2212;<!-- − --></mo>
        <mn>1</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle n-1}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/fbd0b0f32b28f51962943ee9ede4fb34198a2521" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.505ex; width:5.398ex; height:2.343ex;" alt="{\displaystyle n-1}"></span>. The process continues by considering in a <i>backward</i> fashion all remaining stages up to the first one. Once this tabulation process is complete, <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{1}(s)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>1</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mi>s</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{1}(s)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/0da7fd6a973fda4a5bbb730cf87837e7d9bd66cf" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:5.093ex; height:2.843ex;" alt="{\displaystyle f_{1}(s)}"></span> – the value of an optimal policy given initial state <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle s}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>s</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle s}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/01d131dfd7673938b947072a13a9744fe997e632" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:1.09ex; height:1.676ex;" alt="{\displaystyle s}"></span> – as well as the associated optimal action <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle x_{1}(s)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>1</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mi>s</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle x_{1}(s)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a7358b5e2c53c670b122f2dd48d8dc5260c21c37" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:5.284ex; height:2.843ex;" alt="{\displaystyle x_{1}(s)}"></span> can be easily retrieved from the table. Since the computation proceeds in a backward fashion, it is clear that backward recursion may lead to computation of a large number of states that are not necessary for the computation of <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{1}(s)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>1</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mi>s</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{1}(s)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/0da7fd6a973fda4a5bbb730cf87837e7d9bd66cf" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:5.093ex; height:2.843ex;" alt="{\displaystyle f_{1}(s)}"></span>.
</p>
<div class="mw-heading mw-heading4"><h4 id="Example:_Gambling_game">Example: Gambling game</h4><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Stochastic_dynamic_programming&amp;action=edit&amp;section=6" title="Edit section: Example: Gambling game"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<style data-mw-deduplicate="TemplateStyles:r1251242444">.mw-parser-output .ambox{border:1px solid #a2a9b1;border-left:10px solid #36c;background-color:#fbfbfb;box-sizing:border-box}.mw-parser-output .ambox+link+.ambox,.mw-parser-output .ambox+link+style+.ambox,.mw-parser-output .ambox+link+link+.ambox,.mw-parser-output .ambox+.mw-empty-elt+link+.ambox,.mw-parser-output .ambox+.mw-empty-elt+link+style+.ambox,.mw-parser-output .ambox+.mw-empty-elt+link+link+.ambox{margin-top:-1px}html body.mediawiki .mw-parser-output .ambox.mbox-small-left{margin:4px 1em 4px 0;overflow:hidden;width:238px;border-collapse:collapse;font-size:88%;line-height:1.25em}.mw-parser-output .ambox-speedy{border-left:10px solid #b32424;background-color:#fee7e6}.mw-parser-output .ambox-delete{border-left:10px solid #b32424}.mw-parser-output .ambox-content{border-left:10px solid #f28500}.mw-parser-output .ambox-style{border-left:10px solid #fc3}.mw-parser-output .ambox-move{border-left:10px solid #9932cc}.mw-parser-output .ambox-protection{border-left:10px solid #a2a9b1}.mw-parser-output .ambox .mbox-text{border:none;padding:0.25em 0.5em;width:100%}.mw-parser-output .ambox .mbox-image{border:none;padding:2px 0 2px 0.5em;text-align:center}.mw-parser-output .ambox .mbox-imageright{border:none;padding:2px 0.5em 2px 0;text-align:center}.mw-parser-output .ambox .mbox-empty-cell{border:none;padding:0;width:1px}.mw-parser-output .ambox .mbox-image-div{width:52px}@media(min-width:720px){.mw-parser-output .ambox{margin:0 10%}}@media print{body.ns-0 .mw-parser-output .ambox{display:none!important}}</style><table class="box-Expand_section plainlinks metadata ambox mbox-small-left ambox-content" role="presentation"><tbody><tr><td class="mbox-image"><span typeof="mw:File"><a href="/wiki/File:Wiki_letter_w_cropped.svg" class="mw-file-description"><img alt="[icon]" src="//upload.wikimedia.org/wikipedia/commons/thumb/1/1c/Wiki_letter_w_cropped.svg/20px-Wiki_letter_w_cropped.svg.png" decoding="async" width="20" height="14" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/1/1c/Wiki_letter_w_cropped.svg/40px-Wiki_letter_w_cropped.svg.png 1.5x" data-file-width="44" data-file-height="31" /></a></span></td><td class="mbox-text"><div class="mbox-text-span">This section <b>needs expansion</b>. You can help by <a class="external text" href="https://en.wikipedia.org/w/index.php?title=Stochastic_dynamic_programming&amp;action=edit&amp;section=">adding to it</a>.  <span class="date-container"><i>(<span class="date">January 2017</span>)</i></span></div></td></tr></tbody></table>
<div class="mw-heading mw-heading3"><h3 id="Forward_recursion">Forward recursion</h3><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Stochastic_dynamic_programming&amp;action=edit&amp;section=7" title="Edit section: Forward recursion"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<p>Given the initial state <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle s}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>s</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle s}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/01d131dfd7673938b947072a13a9744fe997e632" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:1.09ex; height:1.676ex;" alt="{\displaystyle s}"></span> of the system at the beginning of period 1, <i>forward recursion</i> (<a href="#CITEREFBertsekas2000">Bertsekas 2000</a>) computes <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{1}(s)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>1</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mi>s</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{1}(s)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/0da7fd6a973fda4a5bbb730cf87837e7d9bd66cf" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:5.093ex; height:2.843ex;" alt="{\displaystyle f_{1}(s)}"></span> by progressively expanding the functional equation (<i>forward pass</i>). This involves recursive calls for all <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{t+1}(\cdot ),f_{t+2}(\cdot ),\ldots }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
            <mo>+</mo>
            <mn>1</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mo>&#x22C5;<!-- ⋅ --></mo>
        <mo stretchy="false">)</mo>
        <mo>,</mo>
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
            <mo>+</mo>
            <mn>2</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mo>&#x22C5;<!-- ⋅ --></mo>
        <mo stretchy="false">)</mo>
        <mo>,</mo>
        <mo>&#x2026;<!-- … --></mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{t+1}(\cdot ),f_{t+2}(\cdot ),\ldots }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/f93b38bb5b36d52fbefc2821a28870426bc57693" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:17.835ex; height:2.843ex;" alt="{\displaystyle f_{t+1}(\cdot ),f_{t+2}(\cdot ),\ldots }"></span> that are necessary for computing a given <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{t}(\cdot )}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mo>&#x22C5;<!-- ⋅ --></mo>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{t}(\cdot )}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/2010701bedb926c69f98a369a9fb09b871b22815" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:4.421ex; height:2.843ex;" alt="{\displaystyle f_{t}(\cdot )}"></span>. The value of an optimal policy and its structure are then retrieved via a (<i>backward pass</i>) in which these suspended recursive calls are resolved. A key difference from backward recursion is the fact that <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{t}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>t</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{t}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/874c306411e808e8191e8aeb95e3440e1c68d6e9" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.671ex; width:1.965ex; height:2.509ex;" alt="{\displaystyle f_{t}}"></span> is computed only for states that are relevant for the computation of <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{1}(s)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>1</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mi>s</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{1}(s)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/0da7fd6a973fda4a5bbb730cf87837e7d9bd66cf" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:5.093ex; height:2.843ex;" alt="{\displaystyle f_{1}(s)}"></span>.  <a href="/wiki/Memoization" title="Memoization">Memoization</a> is employed to avoid recomputation of states that have been already considered.
</p>
<div class="mw-heading mw-heading4"><h4 id="Example:_Gambling_game_2">Example: Gambling game</h4><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Stochastic_dynamic_programming&amp;action=edit&amp;section=8" title="Edit section: Example: Gambling game"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<p>We shall illustrate forward recursion in the context of the Gambling game instance previously discussed. We begin the <i>forward pass</i> by considering
<span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{1}(2)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 1,2,3,4}}\\\hline 0&amp;0.4f_{2}(2+0)+0.6f_{2}(2-0)\\1&amp;0.4f_{2}(2+1)+0.6f_{2}(2-1)\\2&amp;0.4f_{2}(2+2)+0.6f_{2}(2-2)\\\end{array}}\right.}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>1</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>2</mn>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <mo movablelimits="true" form="prefix">min</mo>
        <mrow>
          <mo>{</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mtable columnalign="right right" rowspacing="4pt" columnspacing="1em" rowlines="solid none">
              <mtr>
                <mtd>
                  <mi>b</mi>
                </mtd>
                <mtd>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mtext>success probability in periods 1,2,3,4</mtext>
                  </mrow>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>2</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>2</mn>
                  <mo>+</mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>2</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>2</mn>
                  <mo>&#x2212;<!-- − --></mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>1</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>2</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>2</mn>
                  <mo>+</mo>
                  <mn>1</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>2</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>2</mn>
                  <mo>&#x2212;<!-- − --></mo>
                  <mn>1</mn>
                  <mo stretchy="false">)</mo>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>2</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>2</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>2</mn>
                  <mo>+</mo>
                  <mn>2</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>2</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>2</mn>
                  <mo>&#x2212;<!-- − --></mo>
                  <mn>2</mn>
                  <mo stretchy="false">)</mo>
                </mtd>
              </mtr>
            </mtable>
          </mrow>
          <mo fence="true" stretchy="true" symmetric="true"></mo>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{1}(2)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 1,2,3,4}}\\\hline 0&amp;0.4f_{2}(2+0)+0.6f_{2}(2-0)\\1&amp;0.4f_{2}(2+1)+0.6f_{2}(2-1)\\2&amp;0.4f_{2}(2+2)+0.6f_{2}(2-2)\\\end{array}}\right.}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/6be54a4e238a443b91b89923ce18dd196c34ef04" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -6.338ex; width:57.119ex; height:13.843ex;" alt="{\displaystyle f_{1}(2)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 1,2,3,4}}\\\hline 0&amp;0.4f_{2}(2+0)+0.6f_{2}(2-0)\\1&amp;0.4f_{2}(2+1)+0.6f_{2}(2-1)\\2&amp;0.4f_{2}(2+2)+0.6f_{2}(2-2)\\\end{array}}\right.}"></span>
</p><p>At this point we have not computed yet <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{2}(4),f_{2}(3),f_{2}(2),f_{2}(1),f_{2}(0)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>4</mn>
        <mo stretchy="false">)</mo>
        <mo>,</mo>
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>3</mn>
        <mo stretchy="false">)</mo>
        <mo>,</mo>
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>2</mn>
        <mo stretchy="false">)</mo>
        <mo>,</mo>
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>1</mn>
        <mo stretchy="false">)</mo>
        <mo>,</mo>
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>0</mn>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{2}(4),f_{2}(3),f_{2}(2),f_{2}(1),f_{2}(0)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/2f69e1fe0286939238799cfecf954c42bd2f3417" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:29.962ex; height:2.843ex;" alt="{\displaystyle f_{2}(4),f_{2}(3),f_{2}(2),f_{2}(1),f_{2}(0)}"></span>, which are needed to compute <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{1}(2)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>1</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>2</mn>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{1}(2)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/4d784baddefe122c97bdbcfd89eef77121523962" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:5.165ex; height:2.843ex;" alt="{\displaystyle f_{1}(2)}"></span>; we proceed and compute these items. Note that <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{2}(2+0)=f_{2}(2-0)=f_{2}(2)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>2</mn>
        <mo>+</mo>
        <mn>0</mn>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>2</mn>
        <mo>&#x2212;<!-- − --></mo>
        <mn>0</mn>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>2</mn>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{2}(2+0)=f_{2}(2-0)=f_{2}(2)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/0626271b1035b1650eba29c28a4206691da35f41" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:29.698ex; height:2.843ex;" alt="{\displaystyle f_{2}(2+0)=f_{2}(2-0)=f_{2}(2)}"></span>, therefore one can leverage <a href="/wiki/Memoization" title="Memoization">memoization</a> and perform the necessary computations only once.
</p>
<dl><dt>Computation of <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{2}(4),f_{2}(3),f_{2}(2),f_{2}(1),f_{2}(0)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>4</mn>
        <mo stretchy="false">)</mo>
        <mo>,</mo>
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>3</mn>
        <mo stretchy="false">)</mo>
        <mo>,</mo>
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>2</mn>
        <mo stretchy="false">)</mo>
        <mo>,</mo>
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>1</mn>
        <mo stretchy="false">)</mo>
        <mo>,</mo>
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>0</mn>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{2}(4),f_{2}(3),f_{2}(2),f_{2}(1),f_{2}(0)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/2f69e1fe0286939238799cfecf954c42bd2f3417" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:29.962ex; height:2.843ex;" alt="{\displaystyle f_{2}(4),f_{2}(3),f_{2}(2),f_{2}(1),f_{2}(0)}"></span></dt></dl>
<p><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{2}(0)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 2,3,4}}\\\hline 0&amp;0.4f_{3}(0+0)+0.6f_{3}(0-0)\\\end{array}}\right.}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>0</mn>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <mo movablelimits="true" form="prefix">min</mo>
        <mrow>
          <mo>{</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mtable columnalign="right right" rowspacing="4pt" columnspacing="1em" rowlines="solid">
              <mtr>
                <mtd>
                  <mi>b</mi>
                </mtd>
                <mtd>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mtext>success probability in periods 2,3,4</mtext>
                  </mrow>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>3</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>0</mn>
                  <mo>+</mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>3</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>0</mn>
                  <mo>&#x2212;<!-- − --></mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                </mtd>
              </mtr>
            </mtable>
          </mrow>
          <mo fence="true" stretchy="true" symmetric="true"></mo>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{2}(0)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 2,3,4}}\\\hline 0&amp;0.4f_{3}(0+0)+0.6f_{3}(0-0)\\\end{array}}\right.}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/c795ac19bc1083b80b2bbf1dca848fd5386453c2" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -3.171ex; width:55.117ex; height:7.509ex;" alt="{\displaystyle f_{2}(0)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 2,3,4}}\\\hline 0&amp;0.4f_{3}(0+0)+0.6f_{3}(0-0)\\\end{array}}\right.}"></span>
</p><p><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{2}(1)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 2,3,4}}\\\hline 0&amp;0.4f_{3}(1+0)+0.6f_{3}(1-0)\\1&amp;0.4f_{3}(1+1)+0.6f_{3}(1-1)\\\end{array}}\right.}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>1</mn>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <mo movablelimits="true" form="prefix">min</mo>
        <mrow>
          <mo>{</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mtable columnalign="right right" rowspacing="4pt" columnspacing="1em" rowlines="solid none">
              <mtr>
                <mtd>
                  <mi>b</mi>
                </mtd>
                <mtd>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mtext>success probability in periods 2,3,4</mtext>
                  </mrow>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>3</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>1</mn>
                  <mo>+</mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>3</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>1</mn>
                  <mo>&#x2212;<!-- − --></mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>1</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>3</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>1</mn>
                  <mo>+</mo>
                  <mn>1</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>3</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>1</mn>
                  <mo>&#x2212;<!-- − --></mo>
                  <mn>1</mn>
                  <mo stretchy="false">)</mo>
                </mtd>
              </mtr>
            </mtable>
          </mrow>
          <mo fence="true" stretchy="true" symmetric="true"></mo>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{2}(1)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 2,3,4}}\\\hline 0&amp;0.4f_{3}(1+0)+0.6f_{3}(1-0)\\1&amp;0.4f_{3}(1+1)+0.6f_{3}(1-1)\\\end{array}}\right.}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/6e01cdcc166494a4802be5b52e2503aa7ca6de9c" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -4.671ex; width:55.309ex; height:10.509ex;" alt="{\displaystyle f_{2}(1)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 2,3,4}}\\\hline 0&amp;0.4f_{3}(1+0)+0.6f_{3}(1-0)\\1&amp;0.4f_{3}(1+1)+0.6f_{3}(1-1)\\\end{array}}\right.}"></span>
</p><p><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{2}(2)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 2,3,4}}\\\hline 0&amp;0.4f_{3}(2+0)+0.6f_{3}(2-0)\\1&amp;0.4f_{3}(2+1)+0.6f_{3}(2-1)\\2&amp;0.4f_{3}(2+2)+0.6f_{3}(2-2)\\\end{array}}\right.}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>2</mn>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <mo movablelimits="true" form="prefix">min</mo>
        <mrow>
          <mo>{</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mtable columnalign="right right" rowspacing="4pt" columnspacing="1em" rowlines="solid none">
              <mtr>
                <mtd>
                  <mi>b</mi>
                </mtd>
                <mtd>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mtext>success probability in periods 2,3,4</mtext>
                  </mrow>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>3</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>2</mn>
                  <mo>+</mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>3</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>2</mn>
                  <mo>&#x2212;<!-- − --></mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>1</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>3</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>2</mn>
                  <mo>+</mo>
                  <mn>1</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>3</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>2</mn>
                  <mo>&#x2212;<!-- − --></mo>
                  <mn>1</mn>
                  <mo stretchy="false">)</mo>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>2</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>3</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>2</mn>
                  <mo>+</mo>
                  <mn>2</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>3</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>2</mn>
                  <mo>&#x2212;<!-- − --></mo>
                  <mn>2</mn>
                  <mo stretchy="false">)</mo>
                </mtd>
              </mtr>
            </mtable>
          </mrow>
          <mo fence="true" stretchy="true" symmetric="true"></mo>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{2}(2)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 2,3,4}}\\\hline 0&amp;0.4f_{3}(2+0)+0.6f_{3}(2-0)\\1&amp;0.4f_{3}(2+1)+0.6f_{3}(2-1)\\2&amp;0.4f_{3}(2+2)+0.6f_{3}(2-2)\\\end{array}}\right.}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/90ab1e98ee88fdbd9779a5a7b0fa971bd90a00fb" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -6.338ex; width:55.309ex; height:13.843ex;" alt="{\displaystyle f_{2}(2)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 2,3,4}}\\\hline 0&amp;0.4f_{3}(2+0)+0.6f_{3}(2-0)\\1&amp;0.4f_{3}(2+1)+0.6f_{3}(2-1)\\2&amp;0.4f_{3}(2+2)+0.6f_{3}(2-2)\\\end{array}}\right.}"></span>
</p><p><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{2}(3)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 2,3,4}}\\\hline 0&amp;0.4f_{3}(3+0)+0.6f_{3}(3-0)\\1&amp;0.4f_{3}(3+1)+0.6f_{3}(3-1)\\2&amp;0.4f_{3}(3+2)+0.6f_{3}(3-2)\\3&amp;0.4f_{3}(3+3)+0.6f_{3}(3-3)\\\end{array}}\right.}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>3</mn>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <mo movablelimits="true" form="prefix">min</mo>
        <mrow>
          <mo>{</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mtable columnalign="right right" rowspacing="4pt" columnspacing="1em" rowlines="solid none">
              <mtr>
                <mtd>
                  <mi>b</mi>
                </mtd>
                <mtd>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mtext>success probability in periods 2,3,4</mtext>
                  </mrow>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>3</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>3</mn>
                  <mo>+</mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>3</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>3</mn>
                  <mo>&#x2212;<!-- − --></mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>1</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>3</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>3</mn>
                  <mo>+</mo>
                  <mn>1</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>3</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>3</mn>
                  <mo>&#x2212;<!-- − --></mo>
                  <mn>1</mn>
                  <mo stretchy="false">)</mo>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>2</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>3</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>3</mn>
                  <mo>+</mo>
                  <mn>2</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>3</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>3</mn>
                  <mo>&#x2212;<!-- − --></mo>
                  <mn>2</mn>
                  <mo stretchy="false">)</mo>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>3</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>3</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>3</mn>
                  <mo>+</mo>
                  <mn>3</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>3</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>3</mn>
                  <mo>&#x2212;<!-- − --></mo>
                  <mn>3</mn>
                  <mo stretchy="false">)</mo>
                </mtd>
              </mtr>
            </mtable>
          </mrow>
          <mo fence="true" stretchy="true" symmetric="true"></mo>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{2}(3)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 2,3,4}}\\\hline 0&amp;0.4f_{3}(3+0)+0.6f_{3}(3-0)\\1&amp;0.4f_{3}(3+1)+0.6f_{3}(3-1)\\2&amp;0.4f_{3}(3+2)+0.6f_{3}(3-2)\\3&amp;0.4f_{3}(3+3)+0.6f_{3}(3-3)\\\end{array}}\right.}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/2f7e80d08825c680d708d5d284f5e75bff1b5a76" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -8.005ex; width:55.309ex; height:17.176ex;" alt="{\displaystyle f_{2}(3)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 2,3,4}}\\\hline 0&amp;0.4f_{3}(3+0)+0.6f_{3}(3-0)\\1&amp;0.4f_{3}(3+1)+0.6f_{3}(3-1)\\2&amp;0.4f_{3}(3+2)+0.6f_{3}(3-2)\\3&amp;0.4f_{3}(3+3)+0.6f_{3}(3-3)\\\end{array}}\right.}"></span>
</p><p><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{2}(4)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 2,3,4}}\\\hline 0&amp;0.4f_{3}(4+0)+0.6f_{3}(4-0)\\1&amp;0.4f_{3}(4+1)+0.6f_{3}(4-1)\\2&amp;0.4f_{3}(4+2)+0.6f_{3}(4-2)\end{array}}\right.}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>4</mn>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <mo movablelimits="true" form="prefix">min</mo>
        <mrow>
          <mo>{</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mtable columnalign="right right" rowspacing="4pt" columnspacing="1em" rowlines="solid none">
              <mtr>
                <mtd>
                  <mi>b</mi>
                </mtd>
                <mtd>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mtext>success probability in periods 2,3,4</mtext>
                  </mrow>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>3</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>4</mn>
                  <mo>+</mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>3</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>4</mn>
                  <mo>&#x2212;<!-- − --></mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>1</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>3</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>4</mn>
                  <mo>+</mo>
                  <mn>1</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>3</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>4</mn>
                  <mo>&#x2212;<!-- − --></mo>
                  <mn>1</mn>
                  <mo stretchy="false">)</mo>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>2</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>3</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>4</mn>
                  <mo>+</mo>
                  <mn>2</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>3</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>4</mn>
                  <mo>&#x2212;<!-- − --></mo>
                  <mn>2</mn>
                  <mo stretchy="false">)</mo>
                </mtd>
              </mtr>
            </mtable>
          </mrow>
          <mo fence="true" stretchy="true" symmetric="true"></mo>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{2}(4)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 2,3,4}}\\\hline 0&amp;0.4f_{3}(4+0)+0.6f_{3}(4-0)\\1&amp;0.4f_{3}(4+1)+0.6f_{3}(4-1)\\2&amp;0.4f_{3}(4+2)+0.6f_{3}(4-2)\end{array}}\right.}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/0a9d38173eb594235cafe28c655032d2744b51d5" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -6.338ex; width:55.309ex; height:13.843ex;" alt="{\displaystyle f_{2}(4)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 2,3,4}}\\\hline 0&amp;0.4f_{3}(4+0)+0.6f_{3}(4-0)\\1&amp;0.4f_{3}(4+1)+0.6f_{3}(4-1)\\2&amp;0.4f_{3}(4+2)+0.6f_{3}(4-2)\end{array}}\right.}"></span>
</p><p>We have now computed <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{2}(k)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mi>k</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{2}(k)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/e6774cb61efd6b0df4116ff64370c21f68dcc0d2" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:5.214ex; height:2.843ex;" alt="{\displaystyle f_{2}(k)}"></span> for all <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle k}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>k</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle k}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/c3c9a2c7b599b37105512c5d570edc034056dd40" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:1.211ex; height:2.176ex;" alt="{\displaystyle k}"></span> that are needed to compute <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{1}(2)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>1</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>2</mn>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{1}(2)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/4d784baddefe122c97bdbcfd89eef77121523962" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:5.165ex; height:2.843ex;" alt="{\displaystyle f_{1}(2)}"></span>. However, this has led to additional suspended recursions involving <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{3}(4),f_{3}(3),f_{3}(2),f_{3}(1),f_{3}(0)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>3</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>4</mn>
        <mo stretchy="false">)</mo>
        <mo>,</mo>
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>3</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>3</mn>
        <mo stretchy="false">)</mo>
        <mo>,</mo>
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>3</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>2</mn>
        <mo stretchy="false">)</mo>
        <mo>,</mo>
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>3</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>1</mn>
        <mo stretchy="false">)</mo>
        <mo>,</mo>
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>3</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>0</mn>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{3}(4),f_{3}(3),f_{3}(2),f_{3}(1),f_{3}(0)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/8b435bb15b214b80bd113bee64ecabb9afe71c30" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:29.962ex; height:2.843ex;" alt="{\displaystyle f_{3}(4),f_{3}(3),f_{3}(2),f_{3}(1),f_{3}(0)}"></span>. We proceed and compute these values.
</p>
<dl><dt>Computation of <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{3}(4),f_{3}(3),f_{3}(2),f_{3}(1),f_{3}(0)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>3</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>4</mn>
        <mo stretchy="false">)</mo>
        <mo>,</mo>
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>3</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>3</mn>
        <mo stretchy="false">)</mo>
        <mo>,</mo>
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>3</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>2</mn>
        <mo stretchy="false">)</mo>
        <mo>,</mo>
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>3</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>1</mn>
        <mo stretchy="false">)</mo>
        <mo>,</mo>
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>3</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>0</mn>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{3}(4),f_{3}(3),f_{3}(2),f_{3}(1),f_{3}(0)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/8b435bb15b214b80bd113bee64ecabb9afe71c30" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:29.962ex; height:2.843ex;" alt="{\displaystyle f_{3}(4),f_{3}(3),f_{3}(2),f_{3}(1),f_{3}(0)}"></span></dt></dl>
<p><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{3}(0)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 3,4}}\\\hline 0&amp;0.4f_{4}(0+0)+0.6f_{4}(0-0)\\\end{array}}\right.}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>3</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>0</mn>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <mo movablelimits="true" form="prefix">min</mo>
        <mrow>
          <mo>{</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mtable columnalign="right right" rowspacing="4pt" columnspacing="1em" rowlines="solid">
              <mtr>
                <mtd>
                  <mi>b</mi>
                </mtd>
                <mtd>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mtext>success probability in periods 3,4</mtext>
                  </mrow>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>4</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>0</mn>
                  <mo>+</mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>4</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>0</mn>
                  <mo>&#x2212;<!-- − --></mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                </mtd>
              </mtr>
            </mtable>
          </mrow>
          <mo fence="true" stretchy="true" symmetric="true"></mo>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{3}(0)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 3,4}}\\\hline 0&amp;0.4f_{4}(0+0)+0.6f_{4}(0-0)\\\end{array}}\right.}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a649ef5830649d6aea249166efdd7b6379882218" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -3.171ex; width:53.307ex; height:7.509ex;" alt="{\displaystyle f_{3}(0)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 3,4}}\\\hline 0&amp;0.4f_{4}(0+0)+0.6f_{4}(0-0)\\\end{array}}\right.}"></span>
</p><p><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{3}(1)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 3,4}}\\\hline 0&amp;0.4f_{4}(1+0)+0.6f_{4}(1-0)\\1&amp;0.4f_{4}(1+1)+0.6f_{4}(1-1)\\\end{array}}\right.}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>3</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>1</mn>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <mo movablelimits="true" form="prefix">min</mo>
        <mrow>
          <mo>{</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mtable columnalign="right right" rowspacing="4pt" columnspacing="1em" rowlines="solid none">
              <mtr>
                <mtd>
                  <mi>b</mi>
                </mtd>
                <mtd>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mtext>success probability in periods 3,4</mtext>
                  </mrow>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>4</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>1</mn>
                  <mo>+</mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>4</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>1</mn>
                  <mo>&#x2212;<!-- − --></mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>1</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>4</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>1</mn>
                  <mo>+</mo>
                  <mn>1</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>4</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>1</mn>
                  <mo>&#x2212;<!-- − --></mo>
                  <mn>1</mn>
                  <mo stretchy="false">)</mo>
                </mtd>
              </mtr>
            </mtable>
          </mrow>
          <mo fence="true" stretchy="true" symmetric="true"></mo>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{3}(1)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 3,4}}\\\hline 0&amp;0.4f_{4}(1+0)+0.6f_{4}(1-0)\\1&amp;0.4f_{4}(1+1)+0.6f_{4}(1-1)\\\end{array}}\right.}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/ec57be82c8dea747cb38b5854e9ba67aaa44a205" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -4.671ex; width:53.5ex; height:10.509ex;" alt="{\displaystyle f_{3}(1)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 3,4}}\\\hline 0&amp;0.4f_{4}(1+0)+0.6f_{4}(1-0)\\1&amp;0.4f_{4}(1+1)+0.6f_{4}(1-1)\\\end{array}}\right.}"></span>
</p><p><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{3}(2)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 3,4}}\\\hline 0&amp;0.4f_{4}(2+0)+0.6f_{4}(2-0)\\1&amp;0.4f_{4}(2+1)+0.6f_{4}(2-1)\\2&amp;0.4f_{4}(2+2)+0.6f_{4}(2-2)\\\end{array}}\right.}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>3</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>2</mn>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <mo movablelimits="true" form="prefix">min</mo>
        <mrow>
          <mo>{</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mtable columnalign="right right" rowspacing="4pt" columnspacing="1em" rowlines="solid none">
              <mtr>
                <mtd>
                  <mi>b</mi>
                </mtd>
                <mtd>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mtext>success probability in periods 3,4</mtext>
                  </mrow>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>4</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>2</mn>
                  <mo>+</mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>4</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>2</mn>
                  <mo>&#x2212;<!-- − --></mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>1</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>4</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>2</mn>
                  <mo>+</mo>
                  <mn>1</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>4</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>2</mn>
                  <mo>&#x2212;<!-- − --></mo>
                  <mn>1</mn>
                  <mo stretchy="false">)</mo>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>2</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>4</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>2</mn>
                  <mo>+</mo>
                  <mn>2</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>4</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>2</mn>
                  <mo>&#x2212;<!-- − --></mo>
                  <mn>2</mn>
                  <mo stretchy="false">)</mo>
                </mtd>
              </mtr>
            </mtable>
          </mrow>
          <mo fence="true" stretchy="true" symmetric="true"></mo>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{3}(2)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 3,4}}\\\hline 0&amp;0.4f_{4}(2+0)+0.6f_{4}(2-0)\\1&amp;0.4f_{4}(2+1)+0.6f_{4}(2-1)\\2&amp;0.4f_{4}(2+2)+0.6f_{4}(2-2)\\\end{array}}\right.}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/d80121dad243ce3c0fea6ee939990b07c7c9357f" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -6.338ex; width:53.5ex; height:13.843ex;" alt="{\displaystyle f_{3}(2)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 3,4}}\\\hline 0&amp;0.4f_{4}(2+0)+0.6f_{4}(2-0)\\1&amp;0.4f_{4}(2+1)+0.6f_{4}(2-1)\\2&amp;0.4f_{4}(2+2)+0.6f_{4}(2-2)\\\end{array}}\right.}"></span>
</p><p><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{3}(3)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 3,4}}\\\hline 0&amp;0.4f_{4}(3+0)+0.6f_{4}(3-0)\\1&amp;0.4f_{4}(3+1)+0.6f_{4}(3-1)\\2&amp;0.4f_{4}(3+2)+0.6f_{4}(3-2)\\3&amp;0.4f_{4}(3+3)+0.6f_{4}(3-3)\\\end{array}}\right.}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>3</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>3</mn>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <mo movablelimits="true" form="prefix">min</mo>
        <mrow>
          <mo>{</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mtable columnalign="right right" rowspacing="4pt" columnspacing="1em" rowlines="solid none">
              <mtr>
                <mtd>
                  <mi>b</mi>
                </mtd>
                <mtd>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mtext>success probability in periods 3,4</mtext>
                  </mrow>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>4</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>3</mn>
                  <mo>+</mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>4</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>3</mn>
                  <mo>&#x2212;<!-- − --></mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>1</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>4</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>3</mn>
                  <mo>+</mo>
                  <mn>1</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>4</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>3</mn>
                  <mo>&#x2212;<!-- − --></mo>
                  <mn>1</mn>
                  <mo stretchy="false">)</mo>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>2</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>4</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>3</mn>
                  <mo>+</mo>
                  <mn>2</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>4</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>3</mn>
                  <mo>&#x2212;<!-- − --></mo>
                  <mn>2</mn>
                  <mo stretchy="false">)</mo>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>3</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>4</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>3</mn>
                  <mo>+</mo>
                  <mn>3</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>4</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>3</mn>
                  <mo>&#x2212;<!-- − --></mo>
                  <mn>3</mn>
                  <mo stretchy="false">)</mo>
                </mtd>
              </mtr>
            </mtable>
          </mrow>
          <mo fence="true" stretchy="true" symmetric="true"></mo>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{3}(3)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 3,4}}\\\hline 0&amp;0.4f_{4}(3+0)+0.6f_{4}(3-0)\\1&amp;0.4f_{4}(3+1)+0.6f_{4}(3-1)\\2&amp;0.4f_{4}(3+2)+0.6f_{4}(3-2)\\3&amp;0.4f_{4}(3+3)+0.6f_{4}(3-3)\\\end{array}}\right.}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/676e8dfcab8a9fe210d563080da535249e9e1aa1" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -8.005ex; width:53.5ex; height:17.176ex;" alt="{\displaystyle f_{3}(3)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 3,4}}\\\hline 0&amp;0.4f_{4}(3+0)+0.6f_{4}(3-0)\\1&amp;0.4f_{4}(3+1)+0.6f_{4}(3-1)\\2&amp;0.4f_{4}(3+2)+0.6f_{4}(3-2)\\3&amp;0.4f_{4}(3+3)+0.6f_{4}(3-3)\\\end{array}}\right.}"></span>
</p><p><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{3}(4)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 3,4}}\\\hline 0&amp;0.4f_{4}(4+0)+0.6f_{4}(4-0)\\1&amp;0.4f_{4}(4+1)+0.6f_{4}(4-1)\\2&amp;0.4f_{4}(4+2)+0.6f_{4}(4-2)\end{array}}\right.}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>3</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>4</mn>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <mo movablelimits="true" form="prefix">min</mo>
        <mrow>
          <mo>{</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mtable columnalign="right right" rowspacing="4pt" columnspacing="1em" rowlines="solid none">
              <mtr>
                <mtd>
                  <mi>b</mi>
                </mtd>
                <mtd>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mtext>success probability in periods 3,4</mtext>
                  </mrow>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>4</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>4</mn>
                  <mo>+</mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>4</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>4</mn>
                  <mo>&#x2212;<!-- − --></mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>1</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>4</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>4</mn>
                  <mo>+</mo>
                  <mn>1</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>4</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>4</mn>
                  <mo>&#x2212;<!-- − --></mo>
                  <mn>1</mn>
                  <mo stretchy="false">)</mo>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>2</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>4</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>4</mn>
                  <mo>+</mo>
                  <mn>2</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>4</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>4</mn>
                  <mo>&#x2212;<!-- − --></mo>
                  <mn>2</mn>
                  <mo stretchy="false">)</mo>
                </mtd>
              </mtr>
            </mtable>
          </mrow>
          <mo fence="true" stretchy="true" symmetric="true"></mo>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{3}(4)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 3,4}}\\\hline 0&amp;0.4f_{4}(4+0)+0.6f_{4}(4-0)\\1&amp;0.4f_{4}(4+1)+0.6f_{4}(4-1)\\2&amp;0.4f_{4}(4+2)+0.6f_{4}(4-2)\end{array}}\right.}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/79d843409feb498ffb357a50356cc3177cb6bb2e" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -6.338ex; width:53.5ex; height:13.843ex;" alt="{\displaystyle f_{3}(4)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 3,4}}\\\hline 0&amp;0.4f_{4}(4+0)+0.6f_{4}(4-0)\\1&amp;0.4f_{4}(4+1)+0.6f_{4}(4-1)\\2&amp;0.4f_{4}(4+2)+0.6f_{4}(4-2)\end{array}}\right.}"></span>
</p><p><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{3}(5)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 3,4}}\\\hline 0&amp;0.4f_{4}(5+0)+0.6f_{4}(5-0)\\1&amp;0.4f_{4}(5+1)+0.6f_{4}(5-1)\end{array}}\right.}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>3</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>5</mn>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <mo movablelimits="true" form="prefix">min</mo>
        <mrow>
          <mo>{</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mtable columnalign="right right" rowspacing="4pt" columnspacing="1em" rowlines="solid none">
              <mtr>
                <mtd>
                  <mi>b</mi>
                </mtd>
                <mtd>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mtext>success probability in periods 3,4</mtext>
                  </mrow>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>4</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>5</mn>
                  <mo>+</mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>4</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>5</mn>
                  <mo>&#x2212;<!-- − --></mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>1</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>4</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>5</mn>
                  <mo>+</mo>
                  <mn>1</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <msub>
                    <mi>f</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>4</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>5</mn>
                  <mo>&#x2212;<!-- − --></mo>
                  <mn>1</mn>
                  <mo stretchy="false">)</mo>
                </mtd>
              </mtr>
            </mtable>
          </mrow>
          <mo fence="true" stretchy="true" symmetric="true"></mo>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{3}(5)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 3,4}}\\\hline 0&amp;0.4f_{4}(5+0)+0.6f_{4}(5-0)\\1&amp;0.4f_{4}(5+1)+0.6f_{4}(5-1)\end{array}}\right.}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/34c7bf686aae013ac7f2046a6752793987711daf" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -4.671ex; width:53.5ex; height:10.509ex;" alt="{\displaystyle f_{3}(5)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 3,4}}\\\hline 0&amp;0.4f_{4}(5+0)+0.6f_{4}(5-0)\\1&amp;0.4f_{4}(5+1)+0.6f_{4}(5-1)\end{array}}\right.}"></span>
</p><p>Since stage 4 is the last stage in our system, <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{4}(\cdot )}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>4</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mo>&#x22C5;<!-- ⋅ --></mo>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{4}(\cdot )}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/bac1d2b522ad10671fc1674fa4b84276cd629a04" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:4.65ex; height:2.843ex;" alt="{\displaystyle f_{4}(\cdot )}"></span> represent <b>boundary conditions</b> that are easily computed as follows.
</p>
<dl><dt>Boundary conditions</dt></dl>
<p><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle {\begin{array}{ll}f_{4}(0)=0&amp;b_{4}(0)=0\\f_{4}(1)=0&amp;b_{4}(1)=\{0,1\}\\f_{4}(2)=0&amp;b_{4}(2)=\{0,1,2\}\\f_{4}(3)=0.4&amp;b_{4}(3)=\{3\}\\f_{4}(4)=0.4&amp;b_{4}(4)=\{2,3,4\}\\f_{4}(5)=0.4&amp;b_{4}(5)=\{1,2,3,4,5\}\\f_{4}(d)=1&amp;b_{4}(d)=\{0,\ldots ,d-6\}{\text{ for }}d\geq 6\end{array}}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mrow class="MJX-TeXAtom-ORD">
          <mtable columnalign="left left" rowspacing="4pt" columnspacing="1em">
            <mtr>
              <mtd>
                <msub>
                  <mi>f</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mn>4</mn>
                  </mrow>
                </msub>
                <mo stretchy="false">(</mo>
                <mn>0</mn>
                <mo stretchy="false">)</mo>
                <mo>=</mo>
                <mn>0</mn>
              </mtd>
              <mtd>
                <msub>
                  <mi>b</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mn>4</mn>
                  </mrow>
                </msub>
                <mo stretchy="false">(</mo>
                <mn>0</mn>
                <mo stretchy="false">)</mo>
                <mo>=</mo>
                <mn>0</mn>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <msub>
                  <mi>f</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mn>4</mn>
                  </mrow>
                </msub>
                <mo stretchy="false">(</mo>
                <mn>1</mn>
                <mo stretchy="false">)</mo>
                <mo>=</mo>
                <mn>0</mn>
              </mtd>
              <mtd>
                <msub>
                  <mi>b</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mn>4</mn>
                  </mrow>
                </msub>
                <mo stretchy="false">(</mo>
                <mn>1</mn>
                <mo stretchy="false">)</mo>
                <mo>=</mo>
                <mo fence="false" stretchy="false">{</mo>
                <mn>0</mn>
                <mo>,</mo>
                <mn>1</mn>
                <mo fence="false" stretchy="false">}</mo>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <msub>
                  <mi>f</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mn>4</mn>
                  </mrow>
                </msub>
                <mo stretchy="false">(</mo>
                <mn>2</mn>
                <mo stretchy="false">)</mo>
                <mo>=</mo>
                <mn>0</mn>
              </mtd>
              <mtd>
                <msub>
                  <mi>b</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mn>4</mn>
                  </mrow>
                </msub>
                <mo stretchy="false">(</mo>
                <mn>2</mn>
                <mo stretchy="false">)</mo>
                <mo>=</mo>
                <mo fence="false" stretchy="false">{</mo>
                <mn>0</mn>
                <mo>,</mo>
                <mn>1</mn>
                <mo>,</mo>
                <mn>2</mn>
                <mo fence="false" stretchy="false">}</mo>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <msub>
                  <mi>f</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mn>4</mn>
                  </mrow>
                </msub>
                <mo stretchy="false">(</mo>
                <mn>3</mn>
                <mo stretchy="false">)</mo>
                <mo>=</mo>
                <mn>0.4</mn>
              </mtd>
              <mtd>
                <msub>
                  <mi>b</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mn>4</mn>
                  </mrow>
                </msub>
                <mo stretchy="false">(</mo>
                <mn>3</mn>
                <mo stretchy="false">)</mo>
                <mo>=</mo>
                <mo fence="false" stretchy="false">{</mo>
                <mn>3</mn>
                <mo fence="false" stretchy="false">}</mo>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <msub>
                  <mi>f</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mn>4</mn>
                  </mrow>
                </msub>
                <mo stretchy="false">(</mo>
                <mn>4</mn>
                <mo stretchy="false">)</mo>
                <mo>=</mo>
                <mn>0.4</mn>
              </mtd>
              <mtd>
                <msub>
                  <mi>b</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mn>4</mn>
                  </mrow>
                </msub>
                <mo stretchy="false">(</mo>
                <mn>4</mn>
                <mo stretchy="false">)</mo>
                <mo>=</mo>
                <mo fence="false" stretchy="false">{</mo>
                <mn>2</mn>
                <mo>,</mo>
                <mn>3</mn>
                <mo>,</mo>
                <mn>4</mn>
                <mo fence="false" stretchy="false">}</mo>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <msub>
                  <mi>f</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mn>4</mn>
                  </mrow>
                </msub>
                <mo stretchy="false">(</mo>
                <mn>5</mn>
                <mo stretchy="false">)</mo>
                <mo>=</mo>
                <mn>0.4</mn>
              </mtd>
              <mtd>
                <msub>
                  <mi>b</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mn>4</mn>
                  </mrow>
                </msub>
                <mo stretchy="false">(</mo>
                <mn>5</mn>
                <mo stretchy="false">)</mo>
                <mo>=</mo>
                <mo fence="false" stretchy="false">{</mo>
                <mn>1</mn>
                <mo>,</mo>
                <mn>2</mn>
                <mo>,</mo>
                <mn>3</mn>
                <mo>,</mo>
                <mn>4</mn>
                <mo>,</mo>
                <mn>5</mn>
                <mo fence="false" stretchy="false">}</mo>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <msub>
                  <mi>f</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mn>4</mn>
                  </mrow>
                </msub>
                <mo stretchy="false">(</mo>
                <mi>d</mi>
                <mo stretchy="false">)</mo>
                <mo>=</mo>
                <mn>1</mn>
              </mtd>
              <mtd>
                <msub>
                  <mi>b</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mn>4</mn>
                  </mrow>
                </msub>
                <mo stretchy="false">(</mo>
                <mi>d</mi>
                <mo stretchy="false">)</mo>
                <mo>=</mo>
                <mo fence="false" stretchy="false">{</mo>
                <mn>0</mn>
                <mo>,</mo>
                <mo>&#x2026;<!-- … --></mo>
                <mo>,</mo>
                <mi>d</mi>
                <mo>&#x2212;<!-- − --></mo>
                <mn>6</mn>
                <mo fence="false" stretchy="false">}</mo>
                <mrow class="MJX-TeXAtom-ORD">
                  <mtext>&#xA0;for&#xA0;</mtext>
                </mrow>
                <mi>d</mi>
                <mo>&#x2265;<!-- ≥ --></mo>
                <mn>6</mn>
              </mtd>
            </mtr>
          </mtable>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle {\begin{array}{ll}f_{4}(0)=0&amp;b_{4}(0)=0\\f_{4}(1)=0&amp;b_{4}(1)=\{0,1\}\\f_{4}(2)=0&amp;b_{4}(2)=\{0,1,2\}\\f_{4}(3)=0.4&amp;b_{4}(3)=\{3\}\\f_{4}(4)=0.4&amp;b_{4}(4)=\{2,3,4\}\\f_{4}(5)=0.4&amp;b_{4}(5)=\{1,2,3,4,5\}\\f_{4}(d)=1&amp;b_{4}(d)=\{0,\ldots ,d-6\}{\text{ for }}d\geq 6\end{array}}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/10b7990c41c93fcbf5de297ec23fbba0ed2cbb3d" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -11.005ex; width:45.793ex; height:23.176ex;" alt="{\displaystyle {\begin{array}{ll}f_{4}(0)=0&amp;b_{4}(0)=0\\f_{4}(1)=0&amp;b_{4}(1)=\{0,1\}\\f_{4}(2)=0&amp;b_{4}(2)=\{0,1,2\}\\f_{4}(3)=0.4&amp;b_{4}(3)=\{3\}\\f_{4}(4)=0.4&amp;b_{4}(4)=\{2,3,4\}\\f_{4}(5)=0.4&amp;b_{4}(5)=\{1,2,3,4,5\}\\f_{4}(d)=1&amp;b_{4}(d)=\{0,\ldots ,d-6\}{\text{ for }}d\geq 6\end{array}}}"></span>
</p><p>At this point it is possible to proceed and recover the optimal policy and its value via a <i>backward pass</i> involving, at first, stage 3
</p>
<dl><dt>Backward pass involving <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{3}(\cdot )}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>3</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mo>&#x22C5;<!-- ⋅ --></mo>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{3}(\cdot )}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/fcae50b57ab4865c3128de0e8ef29ff0409e56e8" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:4.65ex; height:2.843ex;" alt="{\displaystyle f_{3}(\cdot )}"></span></dt></dl>
<p><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{3}(0)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 3,4}}\\\hline 0&amp;0.4(0)+0.6(0)=0\\\end{array}}\right.}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>3</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>0</mn>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <mo movablelimits="true" form="prefix">min</mo>
        <mrow>
          <mo>{</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mtable columnalign="right right" rowspacing="4pt" columnspacing="1em" rowlines="solid">
              <mtr>
                <mtd>
                  <mi>b</mi>
                </mtd>
                <mtd>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mtext>success probability in periods 3,4</mtext>
                  </mrow>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>0</mn>
                </mtd>
              </mtr>
            </mtable>
          </mrow>
          <mo fence="true" stretchy="true" symmetric="true"></mo>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{3}(0)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 3,4}}\\\hline 0&amp;0.4(0)+0.6(0)=0\\\end{array}}\right.}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/6fc0c35ffd88594f5278d5118acbe0ba8f568769" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -3.171ex; width:53.307ex; height:7.509ex;" alt="{\displaystyle f_{3}(0)=\min \left\{{\begin{array}{rr}b&amp;{\text{success probability in periods 3,4}}\\\hline 0&amp;0.4(0)+0.6(0)=0\\\end{array}}\right.}"></span>
</p><p><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{3}(1)=\min \left\{{\begin{array}{rrr}b&amp;{\text{success probability in periods 3,4}}&amp;{\mbox{max}}\\\hline 0&amp;0.4(0)+0.6(0)=0&amp;\leftarrow b_{3}(1)=0\\1&amp;0.4(0)+0.6(0)=0&amp;\leftarrow b_{3}(1)=1\\\end{array}}\right.}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>3</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>1</mn>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <mo movablelimits="true" form="prefix">min</mo>
        <mrow>
          <mo>{</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mtable columnalign="right right right" rowspacing="4pt" columnspacing="1em" rowlines="solid none">
              <mtr>
                <mtd>
                  <mi>b</mi>
                </mtd>
                <mtd>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mtext>success probability in periods 3,4</mtext>
                  </mrow>
                </mtd>
                <mtd>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mstyle displaystyle="false" scriptlevel="0">
                      <mtext>max</mtext>
                    </mstyle>
                  </mrow>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mo stretchy="false">&#x2190;<!-- ← --></mo>
                  <msub>
                    <mi>b</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>3</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>1</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>0</mn>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>1</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mo stretchy="false">&#x2190;<!-- ← --></mo>
                  <msub>
                    <mi>b</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>3</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>1</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>1</mn>
                </mtd>
              </mtr>
            </mtable>
          </mrow>
          <mo fence="true" stretchy="true" symmetric="true"></mo>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{3}(1)=\min \left\{{\begin{array}{rrr}b&amp;{\text{success probability in periods 3,4}}&amp;{\mbox{max}}\\\hline 0&amp;0.4(0)+0.6(0)=0&amp;\leftarrow b_{3}(1)=0\\1&amp;0.4(0)+0.6(0)=0&amp;\leftarrow b_{3}(1)=1\\\end{array}}\right.}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/09d6ce70ec3331abd0821abb049300c0b6195d3e" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -4.671ex; width:68.076ex; height:10.509ex;" alt="{\displaystyle f_{3}(1)=\min \left\{{\begin{array}{rrr}b&amp;{\text{success probability in periods 3,4}}&amp;{\mbox{max}}\\\hline 0&amp;0.4(0)+0.6(0)=0&amp;\leftarrow b_{3}(1)=0\\1&amp;0.4(0)+0.6(0)=0&amp;\leftarrow b_{3}(1)=1\\\end{array}}\right.}"></span>
</p><p><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{3}(2)=\min \left\{{\begin{array}{rrr}b&amp;{\text{success probability in periods 3,4}}&amp;{\mbox{max}}\\\hline 0&amp;0.4(0)+0.6(0)=0\\1&amp;0.4(0.4)+0.6(0)=0.16&amp;\leftarrow b_{3}(2)=1\\2&amp;0.4(0.4)+0.6(0)=0.16&amp;\leftarrow b_{3}(2)=2\\\end{array}}\right.}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>3</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>2</mn>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <mo movablelimits="true" form="prefix">min</mo>
        <mrow>
          <mo>{</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mtable columnalign="right right right" rowspacing="4pt" columnspacing="1em" rowlines="solid none">
              <mtr>
                <mtd>
                  <mi>b</mi>
                </mtd>
                <mtd>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mtext>success probability in periods 3,4</mtext>
                  </mrow>
                </mtd>
                <mtd>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mstyle displaystyle="false" scriptlevel="0">
                      <mtext>max</mtext>
                    </mstyle>
                  </mrow>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>0</mn>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>1</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0.4</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>0.16</mn>
                </mtd>
                <mtd>
                  <mo stretchy="false">&#x2190;<!-- ← --></mo>
                  <msub>
                    <mi>b</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>3</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>2</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>1</mn>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>2</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0.4</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>0.16</mn>
                </mtd>
                <mtd>
                  <mo stretchy="false">&#x2190;<!-- ← --></mo>
                  <msub>
                    <mi>b</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>3</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>2</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>2</mn>
                </mtd>
              </mtr>
            </mtable>
          </mrow>
          <mo fence="true" stretchy="true" symmetric="true"></mo>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{3}(2)=\min \left\{{\begin{array}{rrr}b&amp;{\text{success probability in periods 3,4}}&amp;{\mbox{max}}\\\hline 0&amp;0.4(0)+0.6(0)=0\\1&amp;0.4(0.4)+0.6(0)=0.16&amp;\leftarrow b_{3}(2)=1\\2&amp;0.4(0.4)+0.6(0)=0.16&amp;\leftarrow b_{3}(2)=2\\\end{array}}\right.}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/bcd41fa1cbade5bcec8a23e90ddfd48816a488f2" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -6.338ex; width:68.076ex; height:13.843ex;" alt="{\displaystyle f_{3}(2)=\min \left\{{\begin{array}{rrr}b&amp;{\text{success probability in periods 3,4}}&amp;{\mbox{max}}\\\hline 0&amp;0.4(0)+0.6(0)=0\\1&amp;0.4(0.4)+0.6(0)=0.16&amp;\leftarrow b_{3}(2)=1\\2&amp;0.4(0.4)+0.6(0)=0.16&amp;\leftarrow b_{3}(2)=2\\\end{array}}\right.}"></span>
</p><p><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{3}(3)=\min \left\{{\begin{array}{rrr}b&amp;{\text{success probability in periods 3,4}}&amp;{\mbox{max}}\\\hline 0&amp;0.4(0.4)+0.6(0.4)=0.4&amp;\leftarrow b_{3}(3)=0\\1&amp;0.4(0.4)+0.6(0)=0.16\\2&amp;0.4(0.4)+0.6(0)=0.16\\3&amp;0.4(1)+0.6(0)=0.4&amp;\leftarrow b_{3}(3)=3\\\end{array}}\right.}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>3</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>3</mn>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <mo movablelimits="true" form="prefix">min</mo>
        <mrow>
          <mo>{</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mtable columnalign="right right right" rowspacing="4pt" columnspacing="1em" rowlines="solid none">
              <mtr>
                <mtd>
                  <mi>b</mi>
                </mtd>
                <mtd>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mtext>success probability in periods 3,4</mtext>
                  </mrow>
                </mtd>
                <mtd>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mstyle displaystyle="false" scriptlevel="0">
                      <mtext>max</mtext>
                    </mstyle>
                  </mrow>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0.4</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0.4</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>0.4</mn>
                </mtd>
                <mtd>
                  <mo stretchy="false">&#x2190;<!-- ← --></mo>
                  <msub>
                    <mi>b</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>3</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>3</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>0</mn>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>1</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0.4</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>0.16</mn>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>2</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0.4</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>0.16</mn>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>3</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <mo stretchy="false">(</mo>
                  <mn>1</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>0.4</mn>
                </mtd>
                <mtd>
                  <mo stretchy="false">&#x2190;<!-- ← --></mo>
                  <msub>
                    <mi>b</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>3</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>3</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>3</mn>
                </mtd>
              </mtr>
            </mtable>
          </mrow>
          <mo fence="true" stretchy="true" symmetric="true"></mo>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{3}(3)=\min \left\{{\begin{array}{rrr}b&amp;{\text{success probability in periods 3,4}}&amp;{\mbox{max}}\\\hline 0&amp;0.4(0.4)+0.6(0.4)=0.4&amp;\leftarrow b_{3}(3)=0\\1&amp;0.4(0.4)+0.6(0)=0.16\\2&amp;0.4(0.4)+0.6(0)=0.16\\3&amp;0.4(1)+0.6(0)=0.4&amp;\leftarrow b_{3}(3)=3\\\end{array}}\right.}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/cc57bef584a6a881e6f0b2b68f4e2ce6207162d7" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -8.005ex; width:68.076ex; height:17.176ex;" alt="{\displaystyle f_{3}(3)=\min \left\{{\begin{array}{rrr}b&amp;{\text{success probability in periods 3,4}}&amp;{\mbox{max}}\\\hline 0&amp;0.4(0.4)+0.6(0.4)=0.4&amp;\leftarrow b_{3}(3)=0\\1&amp;0.4(0.4)+0.6(0)=0.16\\2&amp;0.4(0.4)+0.6(0)=0.16\\3&amp;0.4(1)+0.6(0)=0.4&amp;\leftarrow b_{3}(3)=3\\\end{array}}\right.}"></span>
</p><p><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{3}(4)=\min \left\{{\begin{array}{rrr}b&amp;{\text{success probability in periods 3,4}}&amp;{\mbox{max}}\\\hline 0&amp;0.4(0.4)+0.6(0.4)=0.4&amp;\leftarrow b_{3}(4)=0\\1&amp;0.4(0.4)+0.6(0.4)=0.4&amp;\leftarrow b_{3}(4)=1\\2&amp;0.4(1)+0.6(0)=0.4&amp;\leftarrow b_{3}(4)=2\\\end{array}}\right.}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>3</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>4</mn>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <mo movablelimits="true" form="prefix">min</mo>
        <mrow>
          <mo>{</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mtable columnalign="right right right" rowspacing="4pt" columnspacing="1em" rowlines="solid none">
              <mtr>
                <mtd>
                  <mi>b</mi>
                </mtd>
                <mtd>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mtext>success probability in periods 3,4</mtext>
                  </mrow>
                </mtd>
                <mtd>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mstyle displaystyle="false" scriptlevel="0">
                      <mtext>max</mtext>
                    </mstyle>
                  </mrow>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0.4</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0.4</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>0.4</mn>
                </mtd>
                <mtd>
                  <mo stretchy="false">&#x2190;<!-- ← --></mo>
                  <msub>
                    <mi>b</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>3</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>4</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>0</mn>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>1</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0.4</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0.4</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>0.4</mn>
                </mtd>
                <mtd>
                  <mo stretchy="false">&#x2190;<!-- ← --></mo>
                  <msub>
                    <mi>b</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>3</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>4</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>1</mn>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>2</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <mo stretchy="false">(</mo>
                  <mn>1</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>0.4</mn>
                </mtd>
                <mtd>
                  <mo stretchy="false">&#x2190;<!-- ← --></mo>
                  <msub>
                    <mi>b</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>3</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>4</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>2</mn>
                </mtd>
              </mtr>
            </mtable>
          </mrow>
          <mo fence="true" stretchy="true" symmetric="true"></mo>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{3}(4)=\min \left\{{\begin{array}{rrr}b&amp;{\text{success probability in periods 3,4}}&amp;{\mbox{max}}\\\hline 0&amp;0.4(0.4)+0.6(0.4)=0.4&amp;\leftarrow b_{3}(4)=0\\1&amp;0.4(0.4)+0.6(0.4)=0.4&amp;\leftarrow b_{3}(4)=1\\2&amp;0.4(1)+0.6(0)=0.4&amp;\leftarrow b_{3}(4)=2\\\end{array}}\right.}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/5f4bcbbed0dcfabb7da2a50c46d2448c961926fb" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -6.338ex; width:68.076ex; height:13.843ex;" alt="{\displaystyle f_{3}(4)=\min \left\{{\begin{array}{rrr}b&amp;{\text{success probability in periods 3,4}}&amp;{\mbox{max}}\\\hline 0&amp;0.4(0.4)+0.6(0.4)=0.4&amp;\leftarrow b_{3}(4)=0\\1&amp;0.4(0.4)+0.6(0.4)=0.4&amp;\leftarrow b_{3}(4)=1\\2&amp;0.4(1)+0.6(0)=0.4&amp;\leftarrow b_{3}(4)=2\\\end{array}}\right.}"></span>
</p><p><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{3}(5)=\min \left\{{\begin{array}{rrr}b&amp;{\text{success probability in periods 3,4}}&amp;{\mbox{max}}\\\hline 0&amp;0.4(0.4)+0.6(0.4)=0.4\\1&amp;0.4(1)+0.6(0.4)=0.64&amp;\leftarrow b_{3}(5)=1\\\end{array}}\right.}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>3</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>5</mn>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <mo movablelimits="true" form="prefix">min</mo>
        <mrow>
          <mo>{</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mtable columnalign="right right right" rowspacing="4pt" columnspacing="1em" rowlines="solid none">
              <mtr>
                <mtd>
                  <mi>b</mi>
                </mtd>
                <mtd>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mtext>success probability in periods 3,4</mtext>
                  </mrow>
                </mtd>
                <mtd>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mstyle displaystyle="false" scriptlevel="0">
                      <mtext>max</mtext>
                    </mstyle>
                  </mrow>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0.4</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0.4</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>0.4</mn>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>1</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <mo stretchy="false">(</mo>
                  <mn>1</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0.4</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>0.64</mn>
                </mtd>
                <mtd>
                  <mo stretchy="false">&#x2190;<!-- ← --></mo>
                  <msub>
                    <mi>b</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>3</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>5</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>1</mn>
                </mtd>
              </mtr>
            </mtable>
          </mrow>
          <mo fence="true" stretchy="true" symmetric="true"></mo>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{3}(5)=\min \left\{{\begin{array}{rrr}b&amp;{\text{success probability in periods 3,4}}&amp;{\mbox{max}}\\\hline 0&amp;0.4(0.4)+0.6(0.4)=0.4\\1&amp;0.4(1)+0.6(0.4)=0.64&amp;\leftarrow b_{3}(5)=1\\\end{array}}\right.}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/f4426be5bca4f15e7e97aa6ec7450cf6422a3838" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -4.671ex; width:68.076ex; height:10.509ex;" alt="{\displaystyle f_{3}(5)=\min \left\{{\begin{array}{rrr}b&amp;{\text{success probability in periods 3,4}}&amp;{\mbox{max}}\\\hline 0&amp;0.4(0.4)+0.6(0.4)=0.4\\1&amp;0.4(1)+0.6(0.4)=0.64&amp;\leftarrow b_{3}(5)=1\\\end{array}}\right.}"></span>
</p><p>and, then, stage 2.
</p>
<dl><dt>Backward pass involving <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{2}(\cdot )}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mo>&#x22C5;<!-- ⋅ --></mo>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{2}(\cdot )}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/39ca7ebfa49688b2add1b5a34fcf9aa7857f6aed" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:4.65ex; height:2.843ex;" alt="{\displaystyle f_{2}(\cdot )}"></span></dt></dl>
<p><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{2}(0)=\min \left\{{\begin{array}{rrr}b&amp;{\text{success probability in periods 2,3,4}}&amp;{\mbox{max}}\\\hline 0&amp;0.4(0)+0.6(0)=0&amp;\leftarrow b_{2}(0)=0\\\end{array}}\right.}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>0</mn>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <mo movablelimits="true" form="prefix">min</mo>
        <mrow>
          <mo>{</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mtable columnalign="right right right" rowspacing="4pt" columnspacing="1em" rowlines="solid">
              <mtr>
                <mtd>
                  <mi>b</mi>
                </mtd>
                <mtd>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mtext>success probability in periods 2,3,4</mtext>
                  </mrow>
                </mtd>
                <mtd>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mstyle displaystyle="false" scriptlevel="0">
                      <mtext>max</mtext>
                    </mstyle>
                  </mrow>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mo stretchy="false">&#x2190;<!-- ← --></mo>
                  <msub>
                    <mi>b</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>2</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>0</mn>
                </mtd>
              </mtr>
            </mtable>
          </mrow>
          <mo fence="true" stretchy="true" symmetric="true"></mo>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{2}(0)=\min \left\{{\begin{array}{rrr}b&amp;{\text{success probability in periods 2,3,4}}&amp;{\mbox{max}}\\\hline 0&amp;0.4(0)+0.6(0)=0&amp;\leftarrow b_{2}(0)=0\\\end{array}}\right.}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/32baac15ab7c6772f92616e0ff5aa58705d6da8d" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -3.171ex; width:69.693ex; height:7.509ex;" alt="{\displaystyle f_{2}(0)=\min \left\{{\begin{array}{rrr}b&amp;{\text{success probability in periods 2,3,4}}&amp;{\mbox{max}}\\\hline 0&amp;0.4(0)+0.6(0)=0&amp;\leftarrow b_{2}(0)=0\\\end{array}}\right.}"></span>
</p><p><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{2}(1)=\min \left\{{\begin{array}{rrr}b&amp;{\text{success probability in periods 2,3,4}}&amp;{\mbox{max}}\\\hline 0&amp;0.4(0)+0.6(0)=0\\1&amp;0.4(0.16)+0.6(0)=0.064&amp;\leftarrow b_{2}(1)=1\\\end{array}}\right.}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>1</mn>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <mo movablelimits="true" form="prefix">min</mo>
        <mrow>
          <mo>{</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mtable columnalign="right right right" rowspacing="4pt" columnspacing="1em" rowlines="solid none">
              <mtr>
                <mtd>
                  <mi>b</mi>
                </mtd>
                <mtd>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mtext>success probability in periods 2,3,4</mtext>
                  </mrow>
                </mtd>
                <mtd>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mstyle displaystyle="false" scriptlevel="0">
                      <mtext>max</mtext>
                    </mstyle>
                  </mrow>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>0</mn>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>1</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0.16</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>0.064</mn>
                </mtd>
                <mtd>
                  <mo stretchy="false">&#x2190;<!-- ← --></mo>
                  <msub>
                    <mi>b</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>2</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>1</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>1</mn>
                </mtd>
              </mtr>
            </mtable>
          </mrow>
          <mo fence="true" stretchy="true" symmetric="true"></mo>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{2}(1)=\min \left\{{\begin{array}{rrr}b&amp;{\text{success probability in periods 2,3,4}}&amp;{\mbox{max}}\\\hline 0&amp;0.4(0)+0.6(0)=0\\1&amp;0.4(0.16)+0.6(0)=0.064&amp;\leftarrow b_{2}(1)=1\\\end{array}}\right.}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a4a9c0d99b0e2dfd86ac16a3ffe7fa78a3e38ba5" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -4.671ex; width:69.885ex; height:10.509ex;" alt="{\displaystyle f_{2}(1)=\min \left\{{\begin{array}{rrr}b&amp;{\text{success probability in periods 2,3,4}}&amp;{\mbox{max}}\\\hline 0&amp;0.4(0)+0.6(0)=0\\1&amp;0.4(0.16)+0.6(0)=0.064&amp;\leftarrow b_{2}(1)=1\\\end{array}}\right.}"></span>
</p><p><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{2}(2)=\min \left\{{\begin{array}{rrr}b&amp;{\text{success probability in periods 2,3,4}}&amp;{\mbox{max}}\\\hline 0&amp;0.4(0.16)+0.6(0.16)=0.16&amp;\leftarrow b_{2}(2)=0\\1&amp;0.4(0.4)+0.6(0)=0.16&amp;\leftarrow b_{2}(2)=1\\2&amp;0.4(0.4)+0.6(0)=0.16&amp;\leftarrow b_{2}(2)=2\\\end{array}}\right.}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>2</mn>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <mo movablelimits="true" form="prefix">min</mo>
        <mrow>
          <mo>{</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mtable columnalign="right right right" rowspacing="4pt" columnspacing="1em" rowlines="solid none">
              <mtr>
                <mtd>
                  <mi>b</mi>
                </mtd>
                <mtd>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mtext>success probability in periods 2,3,4</mtext>
                  </mrow>
                </mtd>
                <mtd>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mstyle displaystyle="false" scriptlevel="0">
                      <mtext>max</mtext>
                    </mstyle>
                  </mrow>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0.16</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0.16</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>0.16</mn>
                </mtd>
                <mtd>
                  <mo stretchy="false">&#x2190;<!-- ← --></mo>
                  <msub>
                    <mi>b</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>2</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>2</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>0</mn>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>1</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0.4</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>0.16</mn>
                </mtd>
                <mtd>
                  <mo stretchy="false">&#x2190;<!-- ← --></mo>
                  <msub>
                    <mi>b</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>2</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>2</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>1</mn>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>2</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0.4</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>0.16</mn>
                </mtd>
                <mtd>
                  <mo stretchy="false">&#x2190;<!-- ← --></mo>
                  <msub>
                    <mi>b</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>2</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>2</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>2</mn>
                </mtd>
              </mtr>
            </mtable>
          </mrow>
          <mo fence="true" stretchy="true" symmetric="true"></mo>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{2}(2)=\min \left\{{\begin{array}{rrr}b&amp;{\text{success probability in periods 2,3,4}}&amp;{\mbox{max}}\\\hline 0&amp;0.4(0.16)+0.6(0.16)=0.16&amp;\leftarrow b_{2}(2)=0\\1&amp;0.4(0.4)+0.6(0)=0.16&amp;\leftarrow b_{2}(2)=1\\2&amp;0.4(0.4)+0.6(0)=0.16&amp;\leftarrow b_{2}(2)=2\\\end{array}}\right.}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/6eb30842feb0e6b6b65a1574655820e22c601e48" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -6.338ex; width:69.885ex; height:13.843ex;" alt="{\displaystyle f_{2}(2)=\min \left\{{\begin{array}{rrr}b&amp;{\text{success probability in periods 2,3,4}}&amp;{\mbox{max}}\\\hline 0&amp;0.4(0.16)+0.6(0.16)=0.16&amp;\leftarrow b_{2}(2)=0\\1&amp;0.4(0.4)+0.6(0)=0.16&amp;\leftarrow b_{2}(2)=1\\2&amp;0.4(0.4)+0.6(0)=0.16&amp;\leftarrow b_{2}(2)=2\\\end{array}}\right.}"></span>
</p><p><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{2}(3)=\min \left\{{\begin{array}{rrr}b&amp;{\text{success probability in periods 2,3,4}}&amp;{\mbox{max}}\\\hline 0&amp;0.4(0.4)+0.6(0.4)=0.4&amp;\leftarrow b_{2}(3)=0\\1&amp;0.4(0.4)+0.6(0.16)=0.256\\2&amp;0.4(0.64)+0.6(0)=0.256\\3&amp;0.4(1)+0.6(0)=0.4&amp;\leftarrow b_{2}(3)=3\\\end{array}}\right.}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>3</mn>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <mo movablelimits="true" form="prefix">min</mo>
        <mrow>
          <mo>{</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mtable columnalign="right right right" rowspacing="4pt" columnspacing="1em" rowlines="solid none">
              <mtr>
                <mtd>
                  <mi>b</mi>
                </mtd>
                <mtd>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mtext>success probability in periods 2,3,4</mtext>
                  </mrow>
                </mtd>
                <mtd>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mstyle displaystyle="false" scriptlevel="0">
                      <mtext>max</mtext>
                    </mstyle>
                  </mrow>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0.4</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0.4</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>0.4</mn>
                </mtd>
                <mtd>
                  <mo stretchy="false">&#x2190;<!-- ← --></mo>
                  <msub>
                    <mi>b</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>2</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>3</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>0</mn>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>1</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0.4</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0.16</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>0.256</mn>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>2</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0.64</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>0.256</mn>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>3</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <mo stretchy="false">(</mo>
                  <mn>1</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>0.4</mn>
                </mtd>
                <mtd>
                  <mo stretchy="false">&#x2190;<!-- ← --></mo>
                  <msub>
                    <mi>b</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>2</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>3</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>3</mn>
                </mtd>
              </mtr>
            </mtable>
          </mrow>
          <mo fence="true" stretchy="true" symmetric="true"></mo>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{2}(3)=\min \left\{{\begin{array}{rrr}b&amp;{\text{success probability in periods 2,3,4}}&amp;{\mbox{max}}\\\hline 0&amp;0.4(0.4)+0.6(0.4)=0.4&amp;\leftarrow b_{2}(3)=0\\1&amp;0.4(0.4)+0.6(0.16)=0.256\\2&amp;0.4(0.64)+0.6(0)=0.256\\3&amp;0.4(1)+0.6(0)=0.4&amp;\leftarrow b_{2}(3)=3\\\end{array}}\right.}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/c5d52326aabeef8a5793f31ab506ba60df9d9eaf" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -8.005ex; width:69.885ex; height:17.176ex;" alt="{\displaystyle f_{2}(3)=\min \left\{{\begin{array}{rrr}b&amp;{\text{success probability in periods 2,3,4}}&amp;{\mbox{max}}\\\hline 0&amp;0.4(0.4)+0.6(0.4)=0.4&amp;\leftarrow b_{2}(3)=0\\1&amp;0.4(0.4)+0.6(0.16)=0.256\\2&amp;0.4(0.64)+0.6(0)=0.256\\3&amp;0.4(1)+0.6(0)=0.4&amp;\leftarrow b_{2}(3)=3\\\end{array}}\right.}"></span>
</p><p><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{2}(4)=\min \left\{{\begin{array}{rrr}b&amp;{\text{success probability in periods 2,3,4}}&amp;{\mbox{max}}\\\hline 0&amp;0.4(0.4)+0.6(0.4)=0.4\\1&amp;0.4(0.64)+0.6(0.4)=0.496&amp;\leftarrow b_{2}(4)=1\\2&amp;0.4(1)+0.6(0.16)=0.496&amp;\leftarrow b_{2}(4)=2\\\end{array}}\right.}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>4</mn>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <mo movablelimits="true" form="prefix">min</mo>
        <mrow>
          <mo>{</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mtable columnalign="right right right" rowspacing="4pt" columnspacing="1em" rowlines="solid none">
              <mtr>
                <mtd>
                  <mi>b</mi>
                </mtd>
                <mtd>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mtext>success probability in periods 2,3,4</mtext>
                  </mrow>
                </mtd>
                <mtd>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mstyle displaystyle="false" scriptlevel="0">
                      <mtext>max</mtext>
                    </mstyle>
                  </mrow>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0.4</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0.4</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>0.4</mn>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>1</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0.64</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0.4</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>0.496</mn>
                </mtd>
                <mtd>
                  <mo stretchy="false">&#x2190;<!-- ← --></mo>
                  <msub>
                    <mi>b</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>2</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>4</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>1</mn>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>2</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <mo stretchy="false">(</mo>
                  <mn>1</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0.16</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>0.496</mn>
                </mtd>
                <mtd>
                  <mo stretchy="false">&#x2190;<!-- ← --></mo>
                  <msub>
                    <mi>b</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>2</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>4</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>2</mn>
                </mtd>
              </mtr>
            </mtable>
          </mrow>
          <mo fence="true" stretchy="true" symmetric="true"></mo>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{2}(4)=\min \left\{{\begin{array}{rrr}b&amp;{\text{success probability in periods 2,3,4}}&amp;{\mbox{max}}\\\hline 0&amp;0.4(0.4)+0.6(0.4)=0.4\\1&amp;0.4(0.64)+0.6(0.4)=0.496&amp;\leftarrow b_{2}(4)=1\\2&amp;0.4(1)+0.6(0.16)=0.496&amp;\leftarrow b_{2}(4)=2\\\end{array}}\right.}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/4d6527bceddfb155376d246548742de38ff7b499" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -6.338ex; width:69.885ex; height:13.843ex;" alt="{\displaystyle f_{2}(4)=\min \left\{{\begin{array}{rrr}b&amp;{\text{success probability in periods 2,3,4}}&amp;{\mbox{max}}\\\hline 0&amp;0.4(0.4)+0.6(0.4)=0.4\\1&amp;0.4(0.64)+0.6(0.4)=0.496&amp;\leftarrow b_{2}(4)=1\\2&amp;0.4(1)+0.6(0.16)=0.496&amp;\leftarrow b_{2}(4)=2\\\end{array}}\right.}"></span>
</p><p>We finally recover the value <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{1}(2)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>1</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>2</mn>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{1}(2)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/4d784baddefe122c97bdbcfd89eef77121523962" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:5.165ex; height:2.843ex;" alt="{\displaystyle f_{1}(2)}"></span> of an optimal policy
</p><p><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{1}(2)=\min \left\{{\begin{array}{rrr}b&amp;{\text{success probability in periods 1,2,3,4}}&amp;{\mbox{max}}\\\hline 0&amp;0.4(0.16)+0.6(0.16)=0.16\\1&amp;0.4(0.4)+0.6(0.064)=0.1984&amp;\leftarrow b_{1}(2)=1\\2&amp;0.4(0.496)+0.6(0)=0.1984&amp;\leftarrow b_{1}(2)=2\\\end{array}}\right.}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>1</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>2</mn>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <mo movablelimits="true" form="prefix">min</mo>
        <mrow>
          <mo>{</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mtable columnalign="right right right" rowspacing="4pt" columnspacing="1em" rowlines="solid none">
              <mtr>
                <mtd>
                  <mi>b</mi>
                </mtd>
                <mtd>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mtext>success probability in periods 1,2,3,4</mtext>
                  </mrow>
                </mtd>
                <mtd>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mstyle displaystyle="false" scriptlevel="0">
                      <mtext>max</mtext>
                    </mstyle>
                  </mrow>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0.16</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0.16</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>0.16</mn>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>1</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0.4</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0.064</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>0.1984</mn>
                </mtd>
                <mtd>
                  <mo stretchy="false">&#x2190;<!-- ← --></mo>
                  <msub>
                    <mi>b</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>1</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>2</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>1</mn>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>2</mn>
                </mtd>
                <mtd>
                  <mn>0.4</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0.496</mn>
                  <mo stretchy="false">)</mo>
                  <mo>+</mo>
                  <mn>0.6</mn>
                  <mo stretchy="false">(</mo>
                  <mn>0</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>0.1984</mn>
                </mtd>
                <mtd>
                  <mo stretchy="false">&#x2190;<!-- ← --></mo>
                  <msub>
                    <mi>b</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>1</mn>
                    </mrow>
                  </msub>
                  <mo stretchy="false">(</mo>
                  <mn>2</mn>
                  <mo stretchy="false">)</mo>
                  <mo>=</mo>
                  <mn>2</mn>
                </mtd>
              </mtr>
            </mtable>
          </mrow>
          <mo fence="true" stretchy="true" symmetric="true"></mo>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{1}(2)=\min \left\{{\begin{array}{rrr}b&amp;{\text{success probability in periods 1,2,3,4}}&amp;{\mbox{max}}\\\hline 0&amp;0.4(0.16)+0.6(0.16)=0.16\\1&amp;0.4(0.4)+0.6(0.064)=0.1984&amp;\leftarrow b_{1}(2)=1\\2&amp;0.4(0.496)+0.6(0)=0.1984&amp;\leftarrow b_{1}(2)=2\\\end{array}}\right.}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/2e06e79d0766e8bd7af07e9248f859b38f0a52fe" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -6.338ex; width:71.695ex; height:13.843ex;" alt="{\displaystyle f_{1}(2)=\min \left\{{\begin{array}{rrr}b&amp;{\text{success probability in periods 1,2,3,4}}&amp;{\mbox{max}}\\\hline 0&amp;0.4(0.16)+0.6(0.16)=0.16\\1&amp;0.4(0.4)+0.6(0.064)=0.1984&amp;\leftarrow b_{1}(2)=1\\2&amp;0.4(0.496)+0.6(0)=0.1984&amp;\leftarrow b_{1}(2)=2\\\end{array}}\right.}"></span>
</p><p>This is the optimal policy that has been previously illustrated. Note that there are multiple optimal policies leading to the same optimal value <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{1}(2)=0.1984}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>1</mn>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>2</mn>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <mn>0.1984</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{1}(2)=0.1984}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/77ea44d98fc0d8069563704de03965c53a9db998" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:14.723ex; height:2.843ex;" alt="{\displaystyle f_{1}(2)=0.1984}"></span>; for instance, in the first game one may either bet $1 or $2.
</p><p><b>Python implementation.</b> The one that follows is a complete <a href="/wiki/Python_(programming_language)" title="Python (programming language)">Python</a> implementation of this example.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Tuple</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">functools</span>


<span class="k">class</span><span class="w"> </span><span class="nc">memoize</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">func</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">memoized</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">method_cache</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache_get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">memoized</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">))</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__get__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">objtype</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache_get</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">method_cache</span><span class="p">,</span>
            <span class="n">obj</span><span class="p">,</span>
            <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span><span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">,</span> <span class="n">obj</span><span class="p">)),</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">cache_get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cache</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">func</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">cache</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="n">cache</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">func</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">cache</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">memoized</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">method_cache</span> <span class="o">=</span> <span class="p">{}</span>


<span class="k">class</span><span class="w"> </span><span class="nc">State</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;the state of the gambler&#39;s ruin problem&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">wealth</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;state constructor</span>

<span class="sd">        Arguments:</span>
<span class="sd">            t {int} -- time period</span>
<span class="sd">            wealth {float} -- initial wealth</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">t</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wealth</span> <span class="o">=</span> <span class="n">t</span><span class="p">,</span> <span class="n">wealth</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="vm">__dict__</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">t</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">wealth</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>


<span class="k">class</span><span class="w"> </span><span class="nc">GamblersRuin</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">bettingHorizon</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">targetWealth</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">pmf</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]],</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;the gambler&#39;s ruin problem</span>

<span class="sd">        Arguments:</span>
<span class="sd">            bettingHorizon {int} -- betting horizon</span>
<span class="sd">            targetWealth {float} -- target wealth</span>
<span class="sd">            pmf {List[List[Tuple[int, float]]]} -- probability mass function</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># initialize instance variables</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bettingHorizon</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">targetWealth</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pmf</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">bettingHorizon</span><span class="p">,</span>
            <span class="n">targetWealth</span><span class="p">,</span>
            <span class="n">pmf</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># lambdas</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ag</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="p">[</span>
            <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">targetWealth</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">s</span><span class="o">.</span><span class="n">wealth</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="p">]</span>  <span class="c1"># action generator</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">st</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">s</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">r</span><span class="p">:</span> <span class="n">State</span><span class="p">(</span>
            <span class="n">s</span><span class="o">.</span><span class="n">t</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">s</span><span class="o">.</span><span class="n">wealth</span> <span class="o">-</span> <span class="n">a</span> <span class="o">+</span> <span class="n">a</span> <span class="o">*</span> <span class="n">r</span>
        <span class="p">)</span>  <span class="c1"># state transition</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iv</span> <span class="o">=</span> <span class="p">(</span>
            <span class="k">lambda</span> <span class="n">s</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">r</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">s</span><span class="o">.</span><span class="n">wealth</span> <span class="o">-</span> <span class="n">a</span> <span class="o">+</span> <span class="n">a</span> <span class="o">*</span> <span class="n">r</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">targetWealth</span> <span class="k">else</span> <span class="mi">0</span>
        <span class="p">)</span>  <span class="c1"># immediate value function</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cache_actions</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># cache with optimal state/action pairs</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">f</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wealth</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">State</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">wealth</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_f</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">q</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">wealth</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">State</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">wealth</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache_actions</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">s</span><span class="p">)]</span>

    <span class="nd">@memoize</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_f</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="n">State</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="c1"># Forward recursion</span>
        <span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="nb">sum</span><span class="p">([</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_f</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">st</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span> <span class="k">if</span> <span class="n">s</span><span class="o">.</span><span class="n">t</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">bettingHorizon</span> <span class="o">-</span> <span class="mi">1</span> 
                             <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">iv</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>   <span class="c1"># value function</span>
                       <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pmf</span><span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">t</span><span class="p">]])</span>          <span class="c1"># bet realisations</span>
                  <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ag</span><span class="p">(</span><span class="n">s</span><span class="p">)]</span>                   <span class="c1"># actions                          </span>
                       

        <span class="n">v</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>  
        <span class="k">try</span><span class="p">:</span>        
            <span class="bp">self</span><span class="o">.</span><span class="n">cache_actions</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">s</span><span class="p">)]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ag</span><span class="p">(</span><span class="n">s</span><span class="p">)[</span><span class="n">values</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">v</span><span class="p">)]</span> <span class="c1"># store best action</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cache_actions</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">s</span><span class="p">)]</span><span class="o">=</span><span class="kc">None</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error in retrieving best action&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">v</span>                                          <span class="c1"># return expected total cost</span>


<span class="n">instance</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;bettingHorizon&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
    <span class="s2">&quot;targetWealth&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
    <span class="s2">&quot;pmf&quot;</span><span class="p">:</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">)]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">)],</span>
<span class="p">}</span>
<span class="n">gr</span><span class="p">,</span> <span class="n">initial_wealth</span> <span class="o">=</span> <span class="n">GamblersRuin</span><span class="p">(</span><span class="o">**</span><span class="n">instance</span><span class="p">),</span> <span class="mi">2</span>

<span class="c1"># f_1(x) is gambler&#39;s probability of attaining $targetWealth at the end of bettingHorizon</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;f_1(&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">initial_wealth</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;): &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">gr</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">initial_wealth</span><span class="p">)))</span>

<span class="c1"># Recover optimal action for period 2 when initial wealth at the beginning of period 2 is $1.</span>
<span class="n">t</span><span class="p">,</span> <span class="n">initial_wealth</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span>
    <span class="s2">&quot;b_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">t</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">initial_wealth</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;): &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">gr</span><span class="o">.</span><span class="n">q</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">initial_wealth</span><span class="p">))</span>
<span class="p">)</span>
</pre></div>
<p><b>Java implementation.</b> <a rel="nofollow" class="external text" href="https://github.com/gwr3n/jsdp/blob/master/jsdp/src/main/java/jsdp/app/standalone/stochastic/GamblersRuin.java">GamblersRuin.java</a> is a standalone <a href="/wiki/Java_8" class="mw-redirect" title="Java 8">Java 8</a> implementation of the above example.
</p>
<div class="mw-heading mw-heading3"><h3 id="Approximate_dynamic_programming">Approximate dynamic programming</h3><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Stochastic_dynamic_programming&amp;action=edit&amp;section=9" title="Edit section: Approximate dynamic programming"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1251242444" /><table class="box-Expand_section plainlinks metadata ambox mbox-small-left ambox-content" role="presentation"><tbody><tr><td class="mbox-image"><span typeof="mw:File"><a href="/wiki/File:Wiki_letter_w_cropped.svg" class="mw-file-description"><img alt="[icon]" src="//upload.wikimedia.org/wikipedia/commons/thumb/1/1c/Wiki_letter_w_cropped.svg/20px-Wiki_letter_w_cropped.svg.png" decoding="async" width="20" height="14" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/1/1c/Wiki_letter_w_cropped.svg/40px-Wiki_letter_w_cropped.svg.png 1.5x" data-file-width="44" data-file-height="31" /></a></span></td><td class="mbox-text"><div class="mbox-text-span">This section <b>needs expansion</b>. You can help by <a class="external text" href="https://en.wikipedia.org/w/index.php?title=Stochastic_dynamic_programming&amp;action=edit&amp;section=">adding to it</a>.  <span class="date-container"><i>(<span class="date">January 2017</span>)</i></span></div></td></tr></tbody></table>
<p>An introduction to <a href="/wiki/Reinforcement_learning" title="Reinforcement learning">approximate dynamic programming</a> is provided by (<a href="#CITEREFPowell2009">Powell 2009</a>).
</p>
<div class="mw-heading mw-heading2"><h2 id="Sources">Sources</h2><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Stochastic_dynamic_programming&amp;action=edit&amp;section=10" title="Edit section: Sources"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<ul><li><style data-mw-deduplicate="TemplateStyles:r1238218222">.mw-parser-output cite.citation{font-style:inherit;word-wrap:break-word}.mw-parser-output .citation q{quotes:"\"""\"""'""'"}.mw-parser-output .citation:target{background-color:rgba(0,127,255,0.133)}.mw-parser-output .id-lock-free.id-lock-free a{background:url("//upload.wikimedia.org/wikipedia/commons/6/65/Lock-green.svg")right 0.1em center/9px no-repeat}.mw-parser-output .id-lock-limited.id-lock-limited a,.mw-parser-output .id-lock-registration.id-lock-registration a{background:url("//upload.wikimedia.org/wikipedia/commons/d/d6/Lock-gray-alt-2.svg")right 0.1em center/9px no-repeat}.mw-parser-output .id-lock-subscription.id-lock-subscription a{background:url("//upload.wikimedia.org/wikipedia/commons/a/aa/Lock-red-alt-2.svg")right 0.1em center/9px no-repeat}.mw-parser-output .cs1-ws-icon a{background:url("//upload.wikimedia.org/wikipedia/commons/4/4c/Wikisource-logo.svg")right 0.1em center/12px no-repeat}body:not(.skin-timeless):not(.skin-minerva) .mw-parser-output .id-lock-free a,body:not(.skin-timeless):not(.skin-minerva) .mw-parser-output .id-lock-limited a,body:not(.skin-timeless):not(.skin-minerva) .mw-parser-output .id-lock-registration a,body:not(.skin-timeless):not(.skin-minerva) .mw-parser-output .id-lock-subscription a,body:not(.skin-timeless):not(.skin-minerva) .mw-parser-output .cs1-ws-icon a{background-size:contain;padding:0 1em 0 0}.mw-parser-output .cs1-code{color:inherit;background:inherit;border:none;padding:inherit}.mw-parser-output .cs1-hidden-error{display:none;color:var(--color-error,#d33)}.mw-parser-output .cs1-visible-error{color:var(--color-error,#d33)}.mw-parser-output .cs1-maint{display:none;color:#085;margin-left:0.3em}.mw-parser-output .cs1-kern-left{padding-left:0.2em}.mw-parser-output .cs1-kern-right{padding-right:0.2em}.mw-parser-output .citation .mw-selflink{font-weight:inherit}@media screen{.mw-parser-output .cs1-format{font-size:95%}html.skin-theme-clientpref-night .mw-parser-output .cs1-maint{color:#18911f}}@media screen and (prefers-color-scheme:dark){html.skin-theme-clientpref-os .mw-parser-output .cs1-maint{color:#18911f}}</style><cite id="CITEREFBellman1957" class="citation cs2"><a href="/wiki/Richard_Bellman" class="mw-redirect" title="Richard Bellman">Bellman, R.</a> (1957), <i>Dynamic Programming</i>, Princeton University Press, <a href="/wiki/ISBN_(identifier)" class="mw-redirect" title="ISBN (identifier)">ISBN</a>&#160;<a href="/wiki/Special:BookSources/978-0-486-42809-3" title="Special:BookSources/978-0-486-42809-3"><bdi>978-0-486-42809-3</bdi></a></cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=book&amp;rft.btitle=Dynamic+Programming&amp;rft.pub=Princeton+University+Press&amp;rft.date=1957&amp;rft.isbn=978-0-486-42809-3&amp;rft.aulast=Bellman&amp;rft.aufirst=R.&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AStochastic+dynamic+programming" class="Z3988"></span> <span class="cs1-hidden-error citation-comment"><code class="cs1-code">{{<a href="/wiki/Template:Citation" title="Template:Citation">citation</a>}}</code>: </span><span class="cs1-hidden-error citation-comment">ISBN / Date incompatibility (<a href="/wiki/Help:CS1_errors#invalid_isbn_date" title="Help:CS1 errors">help</a>)</span>. Dover paperback edition (2003)</li>
<li><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1238218222" /><cite id="CITEREFBertsekas2000" class="citation cs2">Bertsekas, D. P. (2000), <i>Dynamic Programming and Optimal Control</i> (2nd&#160;ed.), Athena Scientific, <a href="/wiki/ISBN_(identifier)" class="mw-redirect" title="ISBN (identifier)">ISBN</a>&#160;<a href="/wiki/Special:BookSources/978-1-886529-09-0" title="Special:BookSources/978-1-886529-09-0"><bdi>978-1-886529-09-0</bdi></a></cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=book&amp;rft.btitle=Dynamic+Programming+and+Optimal+Control&amp;rft.edition=2nd&amp;rft.pub=Athena+Scientific&amp;rft.date=2000&amp;rft.isbn=978-1-886529-09-0&amp;rft.aulast=Bertsekas&amp;rft.aufirst=D.+P.&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AStochastic+dynamic+programming" class="Z3988"></span>. In two volumes.</li>
<li><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1238218222" /><cite id="CITEREFPowell2009" class="citation cs2">Powell, W. B. (2009), "What you should know about approximate dynamic programming", <i>Naval Research Logistics</i>, <b>56</b> (1): <span class="nowrap">239–</span>249, <a href="/wiki/CiteSeerX_(identifier)" class="mw-redirect" title="CiteSeerX (identifier)">CiteSeerX</a>&#160;<span class="id-lock-free" title="Freely accessible"><a rel="nofollow" class="external text" href="https://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.150.1854">10.1.1.150.1854</a></span>, <a href="/wiki/Doi_(identifier)" class="mw-redirect" title="Doi (identifier)">doi</a>:<a rel="nofollow" class="external text" href="https://doi.org/10.1002%2Fnav.20347">10.1002/nav.20347</a>, <a href="/wiki/S2CID_(identifier)" class="mw-redirect" title="S2CID (identifier)">S2CID</a>&#160;<a rel="nofollow" class="external text" href="https://api.semanticscholar.org/CorpusID:7134937">7134937</a></cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=article&amp;rft.jtitle=Naval+Research+Logistics&amp;rft.atitle=What+you+should+know+about+approximate+dynamic+programming&amp;rft.volume=56&amp;rft.issue=1&amp;rft.pages=239-249&amp;rft.date=2009&amp;rft_id=https%3A%2F%2Fciteseerx.ist.psu.edu%2Fviewdoc%2Fsummary%3Fdoi%3D10.1.1.150.1854%23id-name%3DCiteSeerX&amp;rft_id=https%3A%2F%2Fapi.semanticscholar.org%2FCorpusID%3A7134937%23id-name%3DS2CID&amp;rft_id=info%3Adoi%2F10.1002%2Fnav.20347&amp;rft.aulast=Powell&amp;rft.aufirst=W.+B.&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AStochastic+dynamic+programming" class="Z3988"></span></li></ul>
<div class="mw-heading mw-heading2"><h2 id="Further_reading">Further reading</h2><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Stochastic_dynamic_programming&amp;action=edit&amp;section=11" title="Edit section: Further reading"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<ul><li><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1238218222" /><cite id="CITEREFRossBimbaumLukacs1983" class="citation cs2">Ross, S. M.; Bimbaum, Z. W.; Lukacs, E. (1983), <i>Introduction to Stochastic Dynamic Programming</i>, Elsevier, <a href="/wiki/ISBN_(identifier)" class="mw-redirect" title="ISBN (identifier)">ISBN</a>&#160;<a href="/wiki/Special:BookSources/978-0-12-598420-1" title="Special:BookSources/978-0-12-598420-1"><bdi>978-0-12-598420-1</bdi></a></cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=book&amp;rft.btitle=Introduction+to+Stochastic+Dynamic+Programming&amp;rft.pub=Elsevier&amp;rft.date=1983&amp;rft.isbn=978-0-12-598420-1&amp;rft.aulast=Ross&amp;rft.aufirst=S.+M.&amp;rft.au=Bimbaum%2C+Z.+W.&amp;rft.au=Lukacs%2C+E.&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AStochastic+dynamic+programming" class="Z3988"></span>.</li></ul>
<div class="mw-heading mw-heading2"><h2 id="See_also">See also</h2><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Stochastic_dynamic_programming&amp;action=edit&amp;section=12" title="Edit section: See also"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<style data-mw-deduplicate="TemplateStyles:r1266661725">.mw-parser-output .portalbox{padding:0;margin:0.5em 0;display:table;box-sizing:border-box;max-width:175px;list-style:none}.mw-parser-output .portalborder{border:1px solid var(--border-color-base,#a2a9b1);padding:0.1em;background:var(--background-color-neutral-subtle,#f8f9fa)}.mw-parser-output .portalbox-entry{display:table-row;font-size:85%;line-height:110%;height:1.9em;font-style:italic;font-weight:bold}.mw-parser-output .portalbox-image{display:table-cell;padding:0.2em;vertical-align:middle;text-align:center}.mw-parser-output .portalbox-link{display:table-cell;padding:0.2em 0.2em 0.2em 0.3em;vertical-align:middle}@media(min-width:720px){.mw-parser-output .portalleft{margin:0.5em 1em 0.5em 0}.mw-parser-output .portalright{clear:right;float:right;margin:0.5em 0 0.5em 1em}}</style><ul role="navigation" aria-label="Portals" class="noprint portalbox portalborder portalright">
<li class="portalbox-entry"><span class="portalbox-image"><span class="noviewer" typeof="mw:File"><span><img alt="diagram" src="//upload.wikimedia.org/wikipedia/commons/thumb/0/00/Complex-adaptive-system.jpg/40px-Complex-adaptive-system.jpg" decoding="async" width="32" height="23" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/0/00/Complex-adaptive-system.jpg/60px-Complex-adaptive-system.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/0/00/Complex-adaptive-system.jpg/120px-Complex-adaptive-system.jpg 2x" data-file-width="2100" data-file-height="1500" /></span></span></span><span class="portalbox-link"><a href="/wiki/Portal:Systems_science" title="Portal:Systems science">Systems science portal</a></span></li><li class="portalbox-entry"><span class="portalbox-image"><span class="skin-invert-image noviewer" typeof="mw:File"><a href="/wiki/File:Nuvola_apps_edu_mathematics_blue-p.svg" class="mw-file-description"><img alt="icon" src="//upload.wikimedia.org/wikipedia/commons/thumb/3/3e/Nuvola_apps_edu_mathematics_blue-p.svg/40px-Nuvola_apps_edu_mathematics_blue-p.svg.png" decoding="async" width="28" height="28" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/3/3e/Nuvola_apps_edu_mathematics_blue-p.svg/60px-Nuvola_apps_edu_mathematics_blue-p.svg.png 1.5x" data-file-width="128" data-file-height="128" /></a></span></span><span class="portalbox-link"><a href="/wiki/Portal:Mathematics" title="Portal:Mathematics">Mathematics portal</a></span></li></ul>
<style data-mw-deduplicate="TemplateStyles:r1184024115">.mw-parser-output .div-col{margin-top:0.3em;column-width:30em}.mw-parser-output .div-col-small{font-size:90%}.mw-parser-output .div-col-rules{column-rule:1px solid #aaa}.mw-parser-output .div-col dl,.mw-parser-output .div-col ol,.mw-parser-output .div-col ul{margin-top:0}.mw-parser-output .div-col li,.mw-parser-output .div-col dd{page-break-inside:avoid;break-inside:avoid-column}</style><div class="div-col div-col-small" style="column-width: 30em;">
<ul><li><a href="/wiki/Control_theory" title="Control theory">Control theory</a>&#160;– Branch of engineering and mathematics</li>
<li><a href="/wiki/Dynamic_programming" title="Dynamic programming">Dynamic programming</a>&#160;– Problem optimization method</li>
<li><a href="/wiki/Reinforcement_learning" title="Reinforcement learning">Reinforcement learning</a>&#160;– Field of machine learning</li>
<li><a href="/wiki/Stochastic_control" title="Stochastic control">Stochastic control</a>&#160;– Probabilistic optimal control</li>
<li><a href="/wiki/Stochastic_process" title="Stochastic process">Stochastic process</a>&#160;– Collection of random variables</li>
<li><a href="/wiki/Stochastic_programming" title="Stochastic programming">Stochastic programming</a>&#160;– Framework for modeling optimization problems that involve uncertainty</li></ul>
</div>
<div class="mw-heading mw-heading2"><h2 id="References">References</h2><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Stochastic_dynamic_programming&amp;action=edit&amp;section=13" title="Edit section: References"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<style data-mw-deduplicate="TemplateStyles:r1239543626">.mw-parser-output .reflist{margin-bottom:0.5em;list-style-type:decimal}@media screen{.mw-parser-output .reflist{font-size:90%}}.mw-parser-output .reflist .references{font-size:100%;margin-bottom:0;list-style-type:inherit}.mw-parser-output .reflist-columns-2{column-width:30em}.mw-parser-output .reflist-columns-3{column-width:25em}.mw-parser-output .reflist-columns{margin-top:0.3em}.mw-parser-output .reflist-columns ol{margin-top:0}.mw-parser-output .reflist-columns li{page-break-inside:avoid;break-inside:avoid-column}.mw-parser-output .reflist-upper-alpha{list-style-type:upper-alpha}.mw-parser-output .reflist-upper-roman{list-style-type:upper-roman}.mw-parser-output .reflist-lower-alpha{list-style-type:lower-alpha}.mw-parser-output .reflist-lower-greek{list-style-type:lower-greek}.mw-parser-output .reflist-lower-roman{list-style-type:lower-roman}</style><div class="reflist">
<div class="mw-references-wrap"><ol class="references">
<li id="cite_note-1"><span class="mw-cite-backlink"><b><a href="#cite_ref-1">^</a></b></span> <span class="reference-text">This problem is adapted from W. L. Winston, Operations Research: Applications and Algorithms (7th Edition), Duxbury Press, 2003, chap. 19, example 3.</span>
</li>
</ol></div></div>
<!-- 
NewPP limit report
Parsed by mw‐api‐int.eqiad.main‐77f9fc6f5d‐fttnj
Cached time: 20250806175743
Cache expiry: 2592000
Reduced expiry: false
Complications: [vary‐revision‐sha1, show‐toc]
CPU time usage: 0.606 seconds
Real time usage: 0.969 seconds
Preprocessor visited node count: 2284/1000000
Revision size: 23790/2097152 bytes
Post‐expand include size: 17560/2097152 bytes
Template argument size: 1293/2097152 bytes
Highest expansion depth: 10/100
Expensive parser function count: 6/500
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 40469/5000000 bytes
Lua time usage: 0.345/10.000 seconds
Lua memory usage: 18336278/52428800 bytes
Number of Wikibase entities loaded: 0/500
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%  557.652      1 -total
 25.53%  142.396      4 Template:Citation
 24.53%  136.778      6 Template:Annotated_link
 22.02%  122.775      1 Template:Short_description
 15.80%   88.101      2 Template:Pagetype
 11.01%   61.377      2 Template:Expand_section
  9.63%   53.712      2 Template:Ambox
  6.66%   37.155      4 Template:Harv
  5.18%   28.914      1 Template:Portal
  3.74%   20.837      4 Template:Main_other
-->

<!-- Saved in parser cache with key enwiki:pcache:52759748:|#|:idhash:canonical and timestamp 20250806175743 and revision id 1281671356. Rendering was triggered because: api-parse
 -->
</div><noscript><img src="https://en.wikipedia.org/wiki/Special:CentralAutoLogin/start?type=1x1&amp;usesul3=1" alt="" width="1" height="1" style="border: none; position: absolute;"></noscript>
<div class="printfooter" data-nosnippet="">Retrieved from "<a dir="ltr" href="https://en.wikipedia.org/w/index.php?title=Stochastic_dynamic_programming&amp;oldid=1281671356">https://en.wikipedia.org/w/index.php?title=Stochastic_dynamic_programming&amp;oldid=1281671356</a>"</div></div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="/wiki/Help:Category" title="Help:Category">Categories</a>: <ul><li><a href="/wiki/Category:Dynamic_programming" title="Category:Dynamic programming">Dynamic programming</a></li><li><a href="/wiki/Category:Optimal_control" title="Category:Optimal control">Optimal control</a></li><li><a href="/wiki/Category:Optimization_algorithms_and_methods" title="Category:Optimization algorithms and methods">Optimization algorithms and methods</a></li><li><a href="/wiki/Category:Stochastic_optimization" title="Category:Stochastic optimization">Stochastic optimization</a></li></ul></div><div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul><li><a href="/wiki/Category:Articles_with_short_description" title="Category:Articles with short description">Articles with short description</a></li><li><a href="/wiki/Category:Short_description_matches_Wikidata" title="Category:Short description matches Wikidata">Short description matches Wikidata</a></li><li><a href="/wiki/Category:Articles_to_be_expanded_from_January_2017" title="Category:Articles to be expanded from January 2017">Articles to be expanded from January 2017</a></li><li><a href="/wiki/Category:All_articles_to_be_expanded" title="Category:All articles to be expanded">All articles to be expanded</a></li><li><a href="/wiki/Category:CS1_errors:_ISBN_date" title="Category:CS1 errors: ISBN date">CS1 errors: ISBN date</a></li><li><a href="/wiki/Category:Pages_using_div_col_with_small_parameter" title="Category:Pages using div col with small parameter">Pages using div col with small parameter</a></li><li><a href="/wiki/Category:Articles_with_example_Python_(programming_language)_code" title="Category:Articles with example Python (programming language) code">Articles with example Python (programming language) code</a></li></ul></div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" >
	<ul id="footer-info">
	<li id="footer-info-lastmod"> This page was last edited on 21 March 2025, at 19:42<span class="anonymous-show">&#160;(UTC)</span>.</li>
	<li id="footer-info-copyright">Text is available under the <a href="/wiki/Wikipedia:Text_of_the_Creative_Commons_Attribution-ShareAlike_4.0_International_License" title="Wikipedia:Text of the Creative Commons Attribution-ShareAlike 4.0 International License">Creative Commons Attribution-ShareAlike 4.0 License</a>;
additional terms may apply. By using this site, you agree to the <a href="https://foundation.wikimedia.org/wiki/Special:MyLanguage/Policy:Terms_of_Use" class="extiw" title="foundation:Special:MyLanguage/Policy:Terms of Use">Terms of Use</a> and <a href="https://foundation.wikimedia.org/wiki/Special:MyLanguage/Policy:Privacy_policy" class="extiw" title="foundation:Special:MyLanguage/Policy:Privacy policy">Privacy Policy</a>. Wikipedia® is a registered trademark of the <a rel="nofollow" class="external text" href="https://wikimediafoundation.org/">Wikimedia Foundation, Inc.</a>, a non-profit organization.</li>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://foundation.wikimedia.org/wiki/Special:MyLanguage/Policy:Privacy_policy">Privacy policy</a></li>
	<li id="footer-places-about"><a href="/wiki/Wikipedia:About">About Wikipedia</a></li>
	<li id="footer-places-disclaimers"><a href="/wiki/Wikipedia:General_disclaimer">Disclaimers</a></li>
	<li id="footer-places-contact"><a href="//en.wikipedia.org/wiki/Wikipedia:Contact_us">Contact Wikipedia</a></li>
	<li id="footer-places-wm-codeofconduct"><a href="https://foundation.wikimedia.org/wiki/Special:MyLanguage/Policy:Universal_Code_of_Conduct">Code of Conduct</a></li>
	<li id="footer-places-developers"><a href="https://developer.wikimedia.org">Developers</a></li>
	<li id="footer-places-statslink"><a href="https://stats.wikimedia.org/#/en.wikipedia.org">Statistics</a></li>
	<li id="footer-places-cookiestatement"><a href="https://foundation.wikimedia.org/wiki/Special:MyLanguage/Policy:Cookie_statement">Cookie statement</a></li>
	<li id="footer-places-mobileview"><a href="//en.m.wikipedia.org/w/index.php?title=Stochastic_dynamic_programming&amp;mobileaction=toggle_view_mobile" class="noprint stopMobileRedirectToggle">Mobile view</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.wikimedia.org/" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><picture><source media="(min-width: 500px)" srcset="/static/images/footer/wikimedia-button.svg" width="84" height="29"><img src="/static/images/footer/wikimedia.svg" width="25" height="25" alt="Wikimedia Foundation" lang="en" loading="lazy"></picture></a></li>
	<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><picture><source media="(min-width: 500px)" srcset="/w/resources/assets/poweredby_mediawiki.svg" width="88" height="31"><img src="/w/resources/assets/mediawiki_compact.svg" alt="Powered by MediaWiki" lang="en" width="25" height="25" loading="lazy"></picture></a></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-header-container vector-sticky-header-container no-font-mode-scale">
	<div id="vector-sticky-header" class="vector-sticky-header">
		<div class="vector-sticky-header-start">
			<div class="vector-sticky-header-icon-start vector-button-flush-left vector-button-flush-right" aria-hidden="true">
				<button class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-sticky-header-search-toggle" tabindex="-1" data-event-name="ui.vector-sticky-search-form.icon"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>Search</span>
			</button>
		</div>
			
		<div role="search" class="vector-search-box-vue  vector-search-box-show-thumbnail vector-search-box">
			<div class="vector-typeahead-search-container">
				<div class="cdx-typeahead-search cdx-typeahead-search--show-thumbnail">
					<form action="/w/index.php" id="vector-sticky-search-form" class="cdx-search-input cdx-search-input--has-end-button">
						<div  class="cdx-search-input__input-wrapper"  data-search-loc="header-moved">
							<div class="cdx-text-input cdx-text-input--has-start-icon">
								<input
									class="cdx-text-input__input mw-searchInput" autocomplete="off"
									
									type="search" name="search" placeholder="Search Wikipedia">
								<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
							</div>
							<input type="hidden" name="title" value="Special:Search">
						</div>
						<button class="cdx-button cdx-search-input__end-button">Search</button>
					</form>
				</div>
			</div>
		</div>
		<div class="vector-sticky-header-context-bar">
				<nav aria-label="Contents" class="vector-toc-landmark">
						
					<div id="vector-sticky-header-toc" class="vector-dropdown mw-portlet mw-portlet-sticky-header-toc vector-sticky-header-toc vector-button-flush-left"  >
						<input type="checkbox" id="vector-sticky-header-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-sticky-header-toc" class="vector-dropdown-checkbox "  aria-label="Toggle the table of contents"  >
						<label id="vector-sticky-header-toc-label" for="vector-sticky-header-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"  ><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
						</label>
						<div class="vector-dropdown-content">
					
						<div id="vector-sticky-header-toc-unpinned-container" class="vector-unpinned-container">
						</div>
					
						</div>
					</div>
			</nav>
				<div class="vector-sticky-header-context-bar-primary" aria-hidden="true" ><span class="mw-page-title-main">Stochastic dynamic programming</span></div>
			</div>
		</div>
		<div class="vector-sticky-header-end" aria-hidden="true">
			<div class="vector-sticky-header-icons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-talk-sticky-header" tabindex="-1" data-event-name="talk-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbles mw-ui-icon-wikimedia-speechBubbles"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-subject-sticky-header" tabindex="-1" data-event-name="subject-sticky-header"><span class="vector-icon mw-ui-icon-article mw-ui-icon-wikimedia-article"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-history-sticky-header" tabindex="-1" data-event-name="history-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-history mw-ui-icon-wikimedia-wikimedia-history"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only mw-watchlink" id="ca-watchstar-sticky-header" tabindex="-1" data-event-name="watch-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-star mw-ui-icon-wikimedia-wikimedia-star"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-edit-sticky-header" tabindex="-1" data-event-name="wikitext-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-wikiText mw-ui-icon-wikimedia-wikimedia-wikiText"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-ve-edit-sticky-header" tabindex="-1" data-event-name="ve-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-edit mw-ui-icon-wikimedia-wikimedia-edit"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-viewsource-sticky-header" tabindex="-1" data-event-name="ve-edit-protected-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-editLock mw-ui-icon-wikimedia-wikimedia-editLock"></span>

<span></span>
			</a>
		</div>
			<div class="vector-sticky-header-buttons">
				<button class="cdx-button cdx-button--weight-quiet mw-interlanguage-selector" id="p-lang-btn-sticky-header" tabindex="-1" data-event-name="ui.dropdown-p-lang-btn-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-language mw-ui-icon-wikimedia-wikimedia-language"></span>

<span>Add languages</span>
			</button>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive" id="ca-addsection-sticky-header" tabindex="-1" data-event-name="addsection-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbleAdd-progressive mw-ui-icon-wikimedia-speechBubbleAdd-progressive"></span>

<span>Add topic</span>
			</a>
		</div>
			<div class="vector-sticky-header-icon-end">
				<div class="vector-user-links">
				</div>
			</div>
		</div>
	</div>
</div>
<div class="mw-portlet mw-portlet-dock-bottom emptyPortlet" id="p-dock-bottom">
	<ul>
		
	</ul>
</div>
<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgHostname":"mw-web.eqiad.main-5f84f56cbb-fjm2d","wgBackendResponseTime":209,"wgPageParseReport":{"limitreport":{"cputime":"0.606","walltime":"0.969","ppvisitednodes":{"value":2284,"limit":1000000},"revisionsize":{"value":23790,"limit":2097152},"postexpandincludesize":{"value":17560,"limit":2097152},"templateargumentsize":{"value":1293,"limit":2097152},"expansiondepth":{"value":10,"limit":100},"expensivefunctioncount":{"value":6,"limit":500},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":40469,"limit":5000000},"entityaccesscount":{"value":0,"limit":500},"timingprofile":["100.00%  557.652      1 -total"," 25.53%  142.396      4 Template:Citation"," 24.53%  136.778      6 Template:Annotated_link"," 22.02%  122.775      1 Template:Short_description"," 15.80%   88.101      2 Template:Pagetype"," 11.01%   61.377      2 Template:Expand_section","  9.63%   53.712      2 Template:Ambox","  6.66%   37.155      4 Template:Harv","  5.18%   28.914      1 Template:Portal","  3.74%   20.837      4 Template:Main_other"]},"scribunto":{"limitreport-timeusage":{"value":"0.345","limit":"10.000"},"limitreport-memusage":{"value":18336278,"limit":52428800},"limitreport-logs":"anchor_id_list = table#1 {\n    [\"CITEREFBellman1957\"] = 1,\n    [\"CITEREFBertsekas2000\"] = 1,\n    [\"CITEREFPowell2009\"] = 1,\n    [\"CITEREFRossBimbaumLukacs1983\"] = 1,\n}\ntemplate_list = table#1 {\n    [\"Annotated link\"] = 6,\n    [\"Citation\"] = 4,\n    [\"Div col\"] = 1,\n    [\"Div col end\"] = 1,\n    [\"Expand section\"] = 2,\n    [\"Harv\"] = 4,\n    [\"Portal\"] = 1,\n    [\"Reflist\"] = 1,\n    [\"Short description\"] = 1,\n}\narticle_whitelist = table#1 {\n}\nciteref_patterns = table#1 {\n}\n"},"cachereport":{"origin":"mw-api-int.eqiad.main-77f9fc6f5d-fttnj","timestamp":"20250806175743","ttl":2592000,"transientcontent":false}}});});</script>
<script type="application/ld+json">{"@context":"https:\/\/schema.org","@type":"Article","name":"Stochastic dynamic programming","url":"https:\/\/en.wikipedia.org\/wiki\/Stochastic_dynamic_programming","sameAs":"http:\/\/www.wikidata.org\/entity\/Q28137009","mainEntity":"http:\/\/www.wikidata.org\/entity\/Q28137009","author":{"@type":"Organization","name":"Contributors to Wikimedia projects"},"publisher":{"@type":"Organization","name":"Wikimedia Foundation, Inc.","logo":{"@type":"ImageObject","url":"https:\/\/www.wikimedia.org\/static\/images\/wmf-hor-googpub.png"}},"datePublished":"2013-03-11T20:03:12Z","dateModified":"2025-03-21T19:42:50Z","headline":"1957 technique for modelling problems of decision making under uncertainty"}</script>
</body>
</html>