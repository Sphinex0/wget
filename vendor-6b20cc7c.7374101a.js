window.__SCRIPTS_LOADED__.polyfills&&((self.webpackChunk_twitter_responsive_web=self.webpackChunk_twitter_responsive_web||[]).push([["vendor-6b20cc7c"],{559780:(e,t,r)=>{r.d(t,{EF:()=>o,jn:()=>l});var n=r(859151);r(666770),r(228775);function o(e,t,r,n,o,l){var s=e.getItemCount(e.data);if(0===s)return{first:0,last:-1};var i=l.offset,a=l.velocity,c=l.visibleLength,u=l.zoomScale,h=void 0===u?1:u,d=Math.max(0,i),f=d+c,p=(r-1)*c,_=a>1?"after":a<-1?"before":"none",g=Math.max(0,d-.5*p),v=Math.max(0,f+.5*p);if(o(s-1,e).offset*h<g)return{first:Math.max(0,s-1-t),last:s-1};var m=function(e,t,r,n){void 0===n&&(n=1);for(var o=t.getItemCount(t.data),l=[],s=0;s<e.length;s++)for(var i=e[s],a=0,c=o-1;a<=c;){var u=a+(c-a>>>1),h=r(u,t),d=h.offset*n,f=(h.offset+h.length)*n;if(0===u&&i<d||0!==u&&i<=d)c=u-1;else{if(!(i>f)){l[s]=u;break}a=u+1}}return l}([g,d,f,v],e,o,h),y=m[0],C=m[1],L=m[2],S=m[3];y=null==y?0:y,S=null==S?s-1:S;for(var M={first:C=null==C?Math.max(0,y):C,last:L=null==L?Math.min(S,C+t-1):L},b=function(e,t){return t.last-t.first+1-Math.max(0,1+Math.min(t.last,e.last)-Math.max(t.first,e.first))}(n,M);!(C<=y&&L>=S);){var R=b>=t,I=C<=n.first||C>n.last,k=C>y&&(!R||!I),w=L>=n.last||L<n.first,x=L<S&&(!R||!w);if(R&&!k&&!x)break;!k||"after"===_&&x&&w||(I&&b++,C--),!x||"before"===_&&k&&I||(w&&b++,L++)}if(!(L>=C&&C>=0&&L<s&&C>=y&&L<=S&&C<=M.first&&L>=M.last))throw new Error("Bad window calculation "+JSON.stringify({first:C,last:L,itemCount:s,overscanFirst:y,overscanLast:S,visible:M}));return{first:C,last:L}}function l(e,t){return"object"===(0,n.Z)(e)&&null!=(null==e?void 0:e.key)?e.key:"object"===(0,n.Z)(e)&&null!=(null==e?void 0:e.id)?e.id:String(t)}},804071:(e,t,r)=>{r.d(t,{Z:()=>j});var n=r(861772),o=r(130965),l=r(457669),s=r(337011),i=r(489405),a=r(107459),c=r(704463),u=(r(559691),r(501536),r(228775),r(276524),r(672103)),h=r(730203),d=r(754544),f=r(745984),p=r(727184),_=r(229710),g=r(426199),v=r(541693),m=r(289688);const y=function(){var e;return(e=console).log.apply(e,arguments)};var C=r(762532),L=r.n(C),S=function(){function e(t){(0,l.Z)(this,e),L()(t>=0,"CellRenderMask must contain a non-negative number os cells"),this._numCells=t,this._regions=0===t?[]:[{first:0,last:t-1,isSpacer:!0}]}return(0,s.Z)(e,[{key:"enumerateRegions",value:function(){return this._regions}},{key:"addCells",value:function(e){var t;if(L()(e.first>=0&&e.first<this._numCells&&e.last>=-1&&e.last<this._numCells&&e.last>=e.first-1,"CellRenderMask.addCells called with invalid cell range"),!(e.last<e.first)){var r=this._findRegion(e.first),o=r[0],l=r[1],s=this._findRegion(e.last),i=s[0],a=s[1];if(l!==a||o.isSpacer){var c=[],u=[],h=(0,d.Z)((0,d.Z)({},e),{},{isSpacer:!1});o.first<h.first&&(o.isSpacer?c.push({first:o.first,last:h.first-1,isSpacer:!0}):h.first=o.first),i.last>h.last&&(i.isSpacer?u.push({first:h.last+1,last:i.last,isSpacer:!0}):h.last=i.last);var f=[].concat(c,[h],u),p=a-l+1;(t=this._regions).splice.apply(t,[l,p].concat((0,n.Z)(f)))}}}},{key:"numCells",value:function(){return this._numCells}},{key:"equals",value:function(e){return this._numCells===e._numCells&&this._regions.length===e._regions.length&&this._regions.every((function(t,r){return t.first===e._regions[r].first&&t.last===e._regions[r].last&&t.isSpacer===e._regions[r].isSpacer}))}},{key:"_findRegion",value:function(e){for(var t=0,r=this._regions.length-1;t<=r;){var n=Math.floor((t+r)/2),o=this._regions[n];if(e>=o.first&&e<=o.last)return[o,n];e<o.first?r=n-1:e>o.last&&(t=n+1)}L()(!1,"A region was not found containing cellIdx "+e)}}]),e}(),M=function(){function e(){(0,l.Z)(this,e),this._cellKeyToChildren=new Map,this._childrenToCellKey=new Map}return(0,s.Z)(e,[{key:"add",value:function(e,t){var r;L()(!this._childrenToCellKey.has(e),"Trying to add already present child list");var n=null!==(r=this._cellKeyToChildren.get(t))&&void 0!==r?r:new Set;n.add(e),this._cellKeyToChildren.set(t,n),this._childrenToCellKey.set(e,t)}},{key:"remove",value:function(e){var t=this._childrenToCellKey.get(e);L()(null!=t,"Trying to remove non-present child list"),this._childrenToCellKey.delete(e);var r=this._cellKeyToChildren.get(t);L()(r,"_cellKeyToChildren should contain cellKey"),r.delete(e),0===r.size&&this._cellKeyToChildren.delete(t)}},{key:"forEach",value:function(e){for(var t,r=(0,u.Z)(this._cellKeyToChildren.values());!(t=r()).done;)for(var n,o=t.value,l=(0,u.Z)(o);!(n=l()).done;){e(n.value)}}},{key:"forEachInCell",value:function(e,t){for(var r,n,o=null!==(r=this._cellKeyToChildren.get(e))&&void 0!==r?r:[],l=(0,u.Z)(o);!(n=l()).done;){t(n.value)}}},{key:"anyInCell",value:function(e,t){for(var r,n,o=null!==(r=this._cellKeyToChildren.get(e))&&void 0!==r?r:[],l=(0,u.Z)(o);!(n=l()).done;){if(t(n.value))return!0}return!1}},{key:"size",value:function(){return this._childrenToCellKey.size}}]),e}(),b=r(980689),R=r(767716),I=r(922186),k=r(245806),w=function(e){(0,a.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,l.Z)(this,r),(n=t.call(this,e))._inAsyncStateUpdate=!1,n._installSetStateHooks(),n}return(0,s.Z)(r,[{key:"setState",value:function(e,t){var n=this;"function"==typeof e?(0,R.Z)((0,I.Z)(r.prototype),"setState",this).call(this,(function(t,r){var o;n._inAsyncStateUpdate=!0;try{o=e(t,r)}catch(l){throw l}finally{n._inAsyncStateUpdate=!1}return o}),t):(0,R.Z)((0,I.Z)(r.prototype),"setState",this).call(this,e,t)}},{key:"_installSetStateHooks",value:function(){var e=this,t=this.props,r=this.state;Object.defineProperty(this,"props",{get:function(){return L()(!e._inAsyncStateUpdate,'"this.props" should not be accessed during state updates'),t},set:function(e){t=e}}),Object.defineProperty(this,"state",{get:function(){return L()(!e._inAsyncStateUpdate,'"this.state" should not be acceessed during state updates'),r},set:function(e){r=e}})}}]),r}(k.PureComponent),x=r(183692),E=k.createContext(null);function T(e){var t=e.children,r=e.value,n=(0,k.useMemo)((function(){return{cellKey:null,getScrollMetrics:r.getScrollMetrics,horizontal:r.horizontal,getOutermostParentListRef:r.getOutermostParentListRef,registerAsNestedChild:r.registerAsNestedChild,unregisterAsNestedChild:r.unregisterAsNestedChild}}),[r.getScrollMetrics,r.horizontal,r.getOutermostParentListRef,r.registerAsNestedChild,r.unregisterAsNestedChild]);return k.createElement(E.Provider,{value:n},t)}function F(e){var t=e.cellKey,r=e.children,n=(0,k.useContext)(E),o=(0,k.useMemo)((function(){return null==n?null:(0,d.Z)((0,d.Z)({},n),{},{cellKey:t})}),[n,t]);return k.createElement(E.Provider,{value:o},r)}var Z=function(e){(0,a.Z)(r,e);var t=(0,c.Z)(r);function r(){var e;return(0,l.Z)(this,r),(e=t.apply(this,arguments)).state={separatorProps:{highlighted:!1,leadingItem:e.props.item}},e._separators={highlight:function(){var t=e.props,r=t.cellKey,n=t.prevCellKey;e.props.onUpdateSeparators([r,n],{highlighted:!0})},unhighlight:function(){var t=e.props,r=t.cellKey,n=t.prevCellKey;e.props.onUpdateSeparators([r,n],{highlighted:!1})},updateProps:function(t,r){var n=e.props,o=n.cellKey,l=n.prevCellKey;e.props.onUpdateSeparators(["leading"===t?l:o],r)}},e._onLayout=function(t){e.props.onCellLayout&&e.props.onCellLayout(t,e.props.cellKey,e.props.index)},e}return(0,s.Z)(r,[{key:"updateSeparatorProps",value:function(e){this.setState((function(t){return{separatorProps:(0,d.Z)((0,d.Z)({},t.separatorProps),e)}}))}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.props.cellKey)}},{key:"_renderElement",value:function(e,t,r,n){return t?k.createElement(t,{item:r,index:n,separators:this._separators}):e?e({item:r,index:n,separators:this._separators}):void L()(!1,"VirtualizedList: Either ListItemComponent or renderItem props are required but none were found.")}},{key:"render",value:function(){var e=this.props,t=e.CellRendererComponent,r=e.ItemSeparatorComponent,n=e.ListItemComponent,o=e.cellKey,l=e.horizontal,s=e.item,i=e.index,a=e.inversionStyle,c=e.onCellFocusCapture,u=e.onCellLayout,d=e.renderItem,f=this._renderElement(d,n,s,i),p=k.isValidElement(r)?r:r&&k.createElement(r,this.state.separatorProps),g=a?l?[A.rowReverse,a]:[A.columnReverse,a]:l?[A.row,a]:a,v=t?k.createElement(t,(0,h.Z)({cellKey:o,index:i,item:s,style:g,onFocusCapture:c},u&&{onLayout:this._onLayout}),f,p):k.createElement(_.Z,(0,h.Z)({style:g,onFocusCapture:c},u&&{onLayout:this._onLayout}),f,p);return k.createElement(F,{cellKey:this.props.cellKey},v)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{separatorProps:(0,d.Z)((0,d.Z)({},t.separatorProps),{},{leadingItem:e.item})}}}]),r}(k.Component),A=g.Z.create({row:{flexDirection:"row"},rowReverse:{flexDirection:"row-reverse"},columnReverse:{flexDirection:"column-reverse"}}),K=r(559780),O=r(947760),P=r.n(O),V=!1;function z(e){return null!=e&&e}function N(e){return null!=e?e:10}function H(e){return null!=e?e:2}function W(e,t){return e*t/2}function B(e){return null!=e?e:21}var D=function(e){(0,a.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n,o;if((0,l.Z)(this,r),(n=t.call(this,e))._getScrollMetrics=function(){return n._scrollMetrics},n._getOutermostParentListRef=function(){return n._isNestedWithSameOrientation()?n.context.getOutermostParentListRef():(0,i.Z)(n)},n._registerAsNestedChild=function(e){n._nestedChildLists.add(e.ref,e.cellKey),n._hasInteracted&&e.ref.recordInteraction()},n._unregisterAsNestedChild=function(e){n._nestedChildLists.remove(e.ref)},n._onUpdateSeparators=function(e,t){e.forEach((function(e){var r=null!=e&&n._cellRefs[e];r&&r.updateSeparatorProps(t)}))},n._getSpacerKey=function(e){return e?"height":"width"},n._averageCellLength=0,n._cellRefs={},n._frames={},n._footerLength=0,n._hasTriggeredInitialScrollToIndex=!1,n._hasInteracted=!1,n._hasMore=!1,n._hasWarned={},n._headerLength=0,n._hiPriInProgress=!1,n._highestMeasuredFrameIndex=0,n._indicesToKeys=new Map,n._lastFocusedCellKey=null,n._nestedChildLists=new M,n._offsetFromParentVirtualizedList=0,n._prevParentOffset=0,n._scrollMetrics={contentLength:0,dOffset:0,dt:10,offset:0,timestamp:0,velocity:0,visibleLength:0,zoomScale:1},n._scrollRef=null,n._sentStartForContentLength=0,n._sentEndForContentLength=0,n._totalCellLength=0,n._totalCellsMeasured=0,n._viewabilityTuples=[],n._captureScrollRef=function(e){n._scrollRef=e},n._defaultRenderScrollComponent=function(e){var t,r=e.onRefresh;return n._isNestedWithSameOrientation()?k.createElement(_.Z,e):r?(L()("boolean"==typeof e.refreshing,"`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `"+JSON.stringify(null!==(t=e.refreshing)&&void 0!==t?t:"undefined")+"`"),k.createElement(p.Z,(0,h.Z)({},e,{refreshControl:null==e.refreshControl?k.createElement(f.Z,{refreshing:e.refreshing,onRefresh:r,progressViewOffset:e.progressViewOffset}):e.refreshControl}))):k.createElement(p.Z,e)},n._onCellLayout=function(e,t,r){var o=e.nativeEvent.layout,l={offset:n._selectOffset(o),length:n._selectLength(o),index:r,inLayout:!0},s=n._frames[t];s&&l.offset===s.offset&&l.length===s.length&&r===s.index?n._frames[t].inLayout=!0:(n._totalCellLength+=l.length-(s?s.length:0),n._totalCellsMeasured+=s?0:1,n._averageCellLength=n._totalCellLength/n._totalCellsMeasured,n._frames[t]=l,n._highestMeasuredFrameIndex=Math.max(n._highestMeasuredFrameIndex,r),n._scheduleCellsToRenderUpdate()),n._triggerRemeasureForChildListsInCell(t),n._computeBlankness(),n._updateViewableItems(n.props,n.state.cellsAroundViewport)},n._onCellUnmount=function(e){delete n._cellRefs[e];var t=n._frames[e];t&&(n._frames[e]=(0,d.Z)((0,d.Z)({},t),{},{inLayout:!1}))},n._onLayout=function(e){n._isNestedWithSameOrientation()?n.measureLayoutRelativeToContainingList():n._scrollMetrics.visibleLength=n._selectLength(e.nativeEvent.layout),n.props.onLayout&&n.props.onLayout(e),n._scheduleCellsToRenderUpdate(),n._maybeCallOnEdgeReached()},n._onLayoutEmpty=function(e){n.props.onLayout&&n.props.onLayout(e)},n._onLayoutFooter=function(e){n._triggerRemeasureForChildListsInCell(n._getFooterCellKey()),n._footerLength=n._selectLength(e.nativeEvent.layout)},n._onLayoutHeader=function(e){n._headerLength=n._selectLength(e.nativeEvent.layout)},n._onContentSizeChange=function(e,t){e>0&&t>0&&null!=n.props.initialScrollIndex&&n.props.initialScrollIndex>0&&!n._hasTriggeredInitialScrollToIndex&&(null==n.props.contentOffset&&(n.props.initialScrollIndex<n.props.getItemCount(n.props.data)?n.scrollToIndex({animated:!1,index:P()(n.props.initialScrollIndex)}):n.scrollToEnd({animated:!1})),n._hasTriggeredInitialScrollToIndex=!0),n.props.onContentSizeChange&&n.props.onContentSizeChange(e,t),n._scrollMetrics.contentLength=n._selectLength({height:t,width:e}),n._scheduleCellsToRenderUpdate(),n._maybeCallOnEdgeReached()},n._convertParentScrollMetrics=function(e){var t=e.offset-n._offsetFromParentVirtualizedList,r=e.visibleLength,o=t-n._scrollMetrics.offset;return{visibleLength:r,contentLength:n._scrollMetrics.contentLength,offset:t,dOffset:o}},n._onScroll=function(e){n._nestedChildLists.forEach((function(t){t._onScroll(e)})),n.props.onScroll&&n.props.onScroll(e);var t=e.timeStamp,r=n._selectLength(e.nativeEvent.layoutMeasurement),o=n._selectLength(e.nativeEvent.contentSize),l=n._selectOffset(e.nativeEvent.contentOffset),s=l-n._scrollMetrics.offset;if(n._isNestedWithSameOrientation()){if(0===n._scrollMetrics.contentLength)return;var i=n._convertParentScrollMetrics({visibleLength:r,offset:l});r=i.visibleLength,o=i.contentLength,l=i.offset,s=i.dOffset}var a=n._scrollMetrics.timestamp?Math.max(1,t-n._scrollMetrics.timestamp):1,c=s/a;a>500&&n._scrollMetrics.dt>500&&o>5*r&&!n._hasWarned.perf&&(y("VirtualizedList: You have a large list that is slow to update - make sure your renderItem function renders components that follow React performance best practices like PureComponent, shouldComponentUpdate, etc.",{dt:a,prevDt:n._scrollMetrics.dt,contentLength:o}),n._hasWarned.perf=!0);var u=e.nativeEvent.zoomScale<0?1:e.nativeEvent.zoomScale;n._scrollMetrics={contentLength:o,dt:a,dOffset:s,offset:l,timestamp:t,velocity:c,visibleLength:r,zoomScale:u},n._updateViewableItems(n.props,n.state.cellsAroundViewport),n.props&&(n._maybeCallOnEdgeReached(),0!==c&&n._fillRateHelper.activate(),n._computeBlankness(),n._scheduleCellsToRenderUpdate())},n._onScrollBeginDrag=function(e){n._nestedChildLists.forEach((function(t){t._onScrollBeginDrag(e)})),n._viewabilityTuples.forEach((function(e){e.viewabilityHelper.recordInteraction()})),n._hasInteracted=!0,n.props.onScrollBeginDrag&&n.props.onScrollBeginDrag(e)},n._onScrollEndDrag=function(e){n._nestedChildLists.forEach((function(t){t._onScrollEndDrag(e)}));var t=e.nativeEvent.velocity;t&&(n._scrollMetrics.velocity=n._selectOffset(t)),n._computeBlankness(),n.props.onScrollEndDrag&&n.props.onScrollEndDrag(e)},n._onMomentumScrollBegin=function(e){n._nestedChildLists.forEach((function(t){t._onMomentumScrollBegin(e)})),n.props.onMomentumScrollBegin&&n.props.onMomentumScrollBegin(e)},n._onMomentumScrollEnd=function(e){n._nestedChildLists.forEach((function(t){t._onMomentumScrollEnd(e)})),n._scrollMetrics.velocity=0,n._computeBlankness(),n.props.onMomentumScrollEnd&&n.props.onMomentumScrollEnd(e)},n._updateCellsToRender=function(){n._updateViewableItems(n.props,n.state.cellsAroundViewport),n.setState((function(e,t){var o=n._adjustCellsAroundViewport(t,e.cellsAroundViewport),l=r._createRenderMask(t,o,n._getNonViewportRenderRegions(t));return o.first===e.cellsAroundViewport.first&&o.last===e.cellsAroundViewport.last&&l.equals(e.renderMask)?null:{cellsAroundViewport:o,renderMask:l}}))},n._createViewToken=function(e,t,r){var o=r.data,l=(0,r.getItem)(o,e);return{index:e,item:l,key:n._keyExtractor(l,e,r),isViewable:t}},n._getOffsetApprox=function(e,t){if(Number.isInteger(e))return n.__getFrameMetricsApprox(e,t).offset;var r=n.__getFrameMetricsApprox(Math.floor(e),t),o=e-Math.floor(e);return r.offset+o*r.length},n.__getFrameMetricsApprox=function(e,t){var r=n._getFrameMetrics(e,t);if(r&&r.index===e)return r;var o=t.data,l=t.getItemCount,s=t.getItemLayout;return L()(e>=0&&e<l(o),"Tried to get frame for out of range index "+e),L()(!s,"Should not have to estimate frames when a measurement metrics function is provided"),{length:n._averageCellLength,offset:n._averageCellLength*e}},n._getFrameMetrics=function(e,t){var r=t.data,o=t.getItem,l=t.getItemCount,s=t.getItemLayout;L()(e>=0&&e<l(r),"Tried to get frame for out of range index "+e);var i=o(r,e),a=n._frames[n._keyExtractor(i,e,t)];return a&&a.index===e||!s?a:s(r,e)},n._getNonViewportRenderRegions=function(e){if(!n._lastFocusedCellKey||!n._cellRefs[n._lastFocusedCellKey])return[];var t=n._cellRefs[n._lastFocusedCellKey].props.index,r=e.getItemCount(e.data);if(t>=r||n._keyExtractor(e.getItem(e.data,t),t,e)!==n._lastFocusedCellKey)return[];for(var o=t,l=0,s=o-1;s>=0&&l<n._scrollMetrics.visibleLength;s--)o--,l+=n.__getFrameMetricsApprox(s,e).length;for(var i=t,a=0,c=i+1;c<r&&a<n._scrollMetrics.visibleLength;c++)i++,a+=n.__getFrameMetricsApprox(c,e).length;return[{first:o,last:i}]},n._checkProps(e),n._fillRateHelper=new b.Z(n._getFrameMetrics),n._updateCellsToRenderBatcher=new v.Z(n._updateCellsToRender,null!==(o=n.props.updateCellsBatchingPeriod)&&void 0!==o?o:50),n.props.viewabilityConfigCallbackPairs)n._viewabilityTuples=n.props.viewabilityConfigCallbackPairs.map((function(e){return{viewabilityHelper:new x.Z(e.viewabilityConfig),onViewableItemsChanged:e.onViewableItemsChanged}}));else{var s=n.props,a=s.onViewableItemsChanged,c=s.viewabilityConfig;a&&n._viewabilityTuples.push({viewabilityHelper:new x.Z(c),onViewableItemsChanged:a})}var u=r._initialRenderRegion(e);return n.state={cellsAroundViewport:u,renderMask:r._createRenderMask(e,u)},n.invertedWheelEventHandler=function(e){var t=n.props.horizontal?e.target.scrollLeft:e.target.scrollTop,r=n.props.horizontal?e.target.scrollWidth:e.target.scrollHeight,o=n.props.horizontal?e.target.clientWidth:e.target.clientHeight,l=r>o,s=n.props.horizontal?e.deltaX||e.wheelDeltaX:e.deltaY||e.wheelDeltaY,i=s;l&&(i=s<0?Math.min(s+t,0):Math.max(s-(r-o-t),0));var a=s-i;if(n.props.inverted&&n._scrollRef&&n._scrollRef.getScrollableNode){var c=n._scrollRef.getScrollableNode();if(n.props.horizontal){e.target.scrollLeft+=a;var u=c.scrollLeft-i;c.scrollLeft=n.props.getItemLayout?u:Math.min(u,n._totalCellLength)}else{e.target.scrollTop+=a;var h=c.scrollTop-i;c.scrollTop=n.props.getItemLayout?h:Math.min(h,n._totalCellLength)}e.preventDefault()}},n}return(0,s.Z)(r,[{key:"scrollToEnd",value:function(e){var t=!e||e.animated,r=this.props.getItemCount(this.props.data)-1;if(!(r<0)){var n=this.__getFrameMetricsApprox(r,this.props),o=Math.max(0,n.offset+n.length+this._footerLength-this._scrollMetrics.visibleLength);null!=this._scrollRef&&null!=this._scrollRef.scrollTo&&this._scrollRef.scrollTo(z(this.props.horizontal)?{x:o,animated:t}:{y:o,animated:t})}}},{key:"scrollToIndex",value:function(e){var t=this.props,r=t.data,n=t.horizontal,o=t.getItemCount,l=t.getItemLayout,s=t.onScrollToIndexFailed,i=e.animated,a=e.index,c=e.viewOffset,u=e.viewPosition;if(L()(a>=0,"scrollToIndex out of range: requested index "+a+" but minimum is 0"),L()(o(r)>=1,"scrollToIndex out of range: item length "+o(r)+" but minimum is 1"),L()(a<o(r),"scrollToIndex out of range: requested index "+a+" is out of 0 to "+(o(r)-1)),!l&&a>this._highestMeasuredFrameIndex)return L()(!!s,"scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, otherwise there is no way to know the location of offscreen indices or handle failures."),void s({averageItemLength:this._averageCellLength,highestMeasuredFrameIndex:this._highestMeasuredFrameIndex,index:a});var h=this.__getFrameMetricsApprox(Math.floor(a),this.props),d=Math.max(0,this._getOffsetApprox(a,this.props)-(u||0)*(this._scrollMetrics.visibleLength-h.length))-(c||0);null!=this._scrollRef&&null!=this._scrollRef.scrollTo&&this._scrollRef.scrollTo(n?{x:d,animated:i}:{y:d,animated:i})}},{key:"scrollToItem",value:function(e){for(var t=e.item,r=this.props,n=r.data,o=r.getItem,l=(0,r.getItemCount)(n),s=0;s<l;s++)if(o(n,s)===t){this.scrollToIndex((0,d.Z)((0,d.Z)({},e),{},{index:s}));break}}},{key:"scrollToOffset",value:function(e){var t=e.animated,r=e.offset;null!=this._scrollRef&&null!=this._scrollRef.scrollTo&&this._scrollRef.scrollTo(z(this.props.horizontal)?{x:r,animated:t}:{y:r,animated:t})}},{key:"recordInteraction",value:function(){this._nestedChildLists.forEach((function(e){e.recordInteraction()})),this._viewabilityTuples.forEach((function(e){e.viewabilityHelper.recordInteraction()})),this._updateViewableItems(this.props,this.state.cellsAroundViewport)}},{key:"flashScrollIndicators",value:function(){null!=this._scrollRef&&this._scrollRef.flashScrollIndicators()}},{key:"getScrollResponder",value:function(){if(this._scrollRef&&this._scrollRef.getScrollResponder)return this._scrollRef.getScrollResponder()}},{key:"getScrollableNode",value:function(){return this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode():this._scrollRef}},{key:"getScrollRef",value:function(){return this._scrollRef&&this._scrollRef.getScrollRef?this._scrollRef.getScrollRef():this._scrollRef}},{key:"_getCellKey",value:function(){var e;return(null==(e=this.context)?void 0:e.cellKey)||"rootList"}},{key:"hasMore",value:function(){return this._hasMore}},{key:"_checkProps",value:function(e){var t=e.onScroll,r=e.windowSize,n=e.getItemCount,o=e.data,l=e.initialScrollIndex;L()(!t||!t.__isNative,"Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent to support native onScroll events with useNativeDriver"),L()(B(r)>0,"VirtualizedList: The windowSize prop must be present and set to a value greater than 0."),L()(n,'VirtualizedList: The "getItemCount" prop must be provided');var s=n(o);null==l||this._hasTriggeredInitialScrollToIndex||!(l<0||s>0&&l>=s)||this._hasWarned.initialScrollIndex||(this._hasWarned.initialScrollIndex=!0)}},{key:"_adjustCellsAroundViewport",value:function(e,t){var n,o=e.data,l=e.getItemCount,s=H(e.onEndReachedThreshold),i=this._scrollMetrics,a=i.contentLength,c=i.offset,u=i.visibleLength,h=a-u-c;if(u<=0||a<=0)return t.last>=l(o)?r._constrainToItemCount(t,e):t;if(e.disableVirtualization){var d=h<s*u?N(e.maxToRenderPerBatch):0;n={first:0,last:Math.min(t.last+d,l(o)-1)}}else{if(e.initialScrollIndex&&!this._scrollMetrics.offset&&Math.abs(h)>=Number.EPSILON)return t.last>=l(o)?r._constrainToItemCount(t,e):t;n=(0,K.EF)(e,N(e.maxToRenderPerBatch),B(e.windowSize),t,this.__getFrameMetricsApprox,this._scrollMetrics),L()(n.last<l(o),"computeWindowedRenderLimits() should return range in-bounds")}if(this._nestedChildLists.size()>0){var f=this._findFirstChildWithMore(n.first,n.last);n.last=null!=f?f:n.last}return n}},{key:"_findFirstChildWithMore",value:function(e,t){for(var r=e;r<=t;r++){var n=this._indicesToKeys.get(r);if(null!=n&&this._nestedChildLists.anyInCell(n,(function(e){return e.hasMore()})))return r}return null}},{key:"componentDidMount",value:function(){this._isNestedWithSameOrientation()&&this.context.registerAsNestedChild({ref:this,cellKey:this.context.cellKey}),this.setupWebWheelHandler()}},{key:"componentWillUnmount",value:function(){this._isNestedWithSameOrientation()&&this.context.unregisterAsNestedChild({ref:this}),this._updateCellsToRenderBatcher.dispose({abort:!0}),this._viewabilityTuples.forEach((function(e){e.viewabilityHelper.dispose()})),this._fillRateHelper.deactivateAndFlush(),this.teardownWebWheelHandler()}},{key:"setupWebWheelHandler",value:function(){var e=this;this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode().addEventListener("wheel",this.invertedWheelEventHandler):setTimeout((function(){return e.setupWebWheelHandler()}),50)}},{key:"teardownWebWheelHandler",value:function(){this._scrollRef&&this._scrollRef.getScrollableNode&&this._scrollRef.getScrollableNode().removeEventListener("wheel",this.invertedWheelEventHandler)}},{key:"_pushCells",value:function(e,t,r,n,o,l){var s,i=this,a=this.props,c=a.CellRendererComponent,u=a.ItemSeparatorComponent,d=a.ListHeaderComponent,f=a.ListItemComponent,p=a.data,_=a.debug,g=a.getItem,v=a.getItemCount,m=a.getItemLayout,y=a.horizontal,C=a.renderItem,L=d?1:0,S=v(p)-1;o=Math.min(S,o);for(var M=function(){var n=g(p,b),o=i._keyExtractor(n,b,i.props);i._indicesToKeys.set(b,o),r.has(b+L)&&t.push(e.length);var a=null==m||_||i._fillRateHelper.enabled();e.push(k.createElement(Z,(0,h.Z)({CellRendererComponent:c,ItemSeparatorComponent:b<S?u:void 0,ListItemComponent:f,cellKey:o,horizontal:y,index:b,inversionStyle:l,item:n,key:o,prevCellKey:s,onUpdateSeparators:i._onUpdateSeparators,onCellFocusCapture:function(e){return i._onCellFocusCapture(o)},onUnmount:i._onCellUnmount,ref:function(e){i._cellRefs[o]=e},renderItem:C},a&&{onCellLayout:i._onCellLayout}))),s=o},b=n;b<=o;b++)M()}},{key:"_isNestedWithSameOrientation",value:function(){var e=this.context;return!(!e||!!e.horizontal!==z(this.props.horizontal))}},{key:"_keyExtractor",value:function(e,t,r){if(null!=r.keyExtractor)return r.keyExtractor(e,t);var n=(0,K.jn)(e,t);return n===String(t)&&(V=!0,e.type&&e.type.displayName&&e.type.displayName),n}},{key:"render",value:function(){var e=this;this._checkProps(this.props);var t=this.props,r=t.ListEmptyComponent,n=t.ListFooterComponent,l=t.ListHeaderComponent,s=this.props,i=s.data,a=s.horizontal,c=this.props.inverted?z(this.props.horizontal)?U.horizontallyInverted:U.verticallyInverted:null,h=[],f=new Set(this.props.stickyHeaderIndices),p=[];if(l){f.has(0)&&p.push(0);var g=k.isValidElement(l)?l:k.createElement(l,null);h.push(k.createElement(F,{cellKey:this._getCellKey()+"-header",key:"$header"},k.createElement(_.Z,{onLayout:this._onLayoutHeader,style:[c,this.props.ListHeaderComponentStyle]},g)))}var v=this.props.getItemCount(i);if(0===v&&r){var y=k.isValidElement(r)?r:k.createElement(r,null);h.push(k.createElement(F,{cellKey:this._getCellKey()+"-empty",key:"$empty"},k.cloneElement(y,{onLayout:function(t){e._onLayoutEmpty(t),y.props.onLayout&&y.props.onLayout(t)},style:[c,y.props.style]})))}if(v>0){V=!1;for(var C,L=this._getSpacerKey(!a),S=this.state.renderMask.enumerateRegions(),M=function(e,t){for(var r=e.length-1;r>=0;r--)if(t(e[r]))return e[r];return null}(S,(function(e){return e.isSpacer})),b=(0,u.Z)(S);!(C=b()).done;){var R=C.value;if(R.isSpacer){if(this.props.disableVirtualization)continue;var I=R===M&&!this.props.getItemLayout?(0,m.Z)(R.first-1,R.last,this._highestMeasuredFrameIndex):R.last,w=this.__getFrameMetricsApprox(R.first,this.props),x=this.__getFrameMetricsApprox(I,this.props),E=x.offset+x.length-w.offset;h.push(k.createElement(_.Z,{key:"$spacer-"+R.first,style:(0,o.Z)({},L,E)}))}else this._pushCells(h,p,f,R.first,R.last,c)}!this._hasWarned.keys&&V&&(this._hasWarned.keys=!0)}if(n){var Z=k.isValidElement(n)?n:k.createElement(n,null);h.push(k.createElement(F,{cellKey:this._getFooterCellKey(),key:"$footer"},k.createElement(_.Z,{onLayout:this._onLayoutFooter,style:[c,this.props.ListFooterComponentStyle]},Z)))}var A,K=(0,d.Z)((0,d.Z)({},this.props),{},{onContentSizeChange:this._onContentSizeChange,onLayout:this._onLayout,onScroll:this._onScroll,onScrollBeginDrag:this._onScrollBeginDrag,onScrollEndDrag:this._onScrollEndDrag,onMomentumScrollBegin:this._onMomentumScrollBegin,onMomentumScrollEnd:this._onMomentumScrollEnd,scrollEventThrottle:(A=this.props.scrollEventThrottle,null!=A?A:50),invertStickyHeaders:void 0!==this.props.invertStickyHeaders?this.props.invertStickyHeaders:this.props.inverted,stickyHeaderIndices:p,style:c?[c,this.props.style]:this.props.style});this._hasMore=this.state.cellsAroundViewport.last<v-1;var O=k.createElement(T,{value:{cellKey:null,getScrollMetrics:this._getScrollMetrics,horizontal:z(this.props.horizontal),getOutermostParentListRef:this._getOutermostParentListRef,registerAsNestedChild:this._registerAsNestedChild,unregisterAsNestedChild:this._unregisterAsNestedChild}},k.cloneElement((this.props.renderScrollComponent||this._defaultRenderScrollComponent)(K),{ref:this._captureScrollRef},h));return this.props.debug?k.createElement(_.Z,{style:U.debug},O,this._renderDebugOverlay()):O}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.data,n=t.extraData;r===e.data&&n===e.extraData||this._viewabilityTuples.forEach((function(e){e.viewabilityHelper.resetViewableIndices()}));var o=this._hiPriInProgress;this._scheduleCellsToRenderUpdate(),o&&(this._hiPriInProgress=!1)}},{key:"_computeBlankness",value:function(){this._fillRateHelper.computeBlankness(this.props,this.state.cellsAroundViewport,this._scrollMetrics)}},{key:"_onCellFocusCapture",value:function(e){this._lastFocusedCellKey=e,this._updateCellsToRender()}},{key:"_triggerRemeasureForChildListsInCell",value:function(e){this._nestedChildLists.forEachInCell(e,(function(e){e.measureLayoutRelativeToContainingList()}))}},{key:"measureLayoutRelativeToContainingList",value:function(){var e=this;try{if(!this._scrollRef)return;this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(),(function(t,r,n,o){e._offsetFromParentVirtualizedList=e._selectOffset({x:t,y:r}),e._scrollMetrics.contentLength=e._selectLength({width:n,height:o});var l=e._convertParentScrollMetrics(e.context.getScrollMetrics());(e._scrollMetrics.visibleLength!==l.visibleLength||e._scrollMetrics.offset!==l.offset)&&(e._scrollMetrics.visibleLength=l.visibleLength,e._scrollMetrics.offset=l.offset,e._nestedChildLists.forEach((function(e){e.measureLayoutRelativeToContainingList()})))}),(function(e){}))}catch(t){}}},{key:"_getFooterCellKey",value:function(){return this._getCellKey()+"-footer"}},{key:"_renderDebugOverlay",value:function(){for(var e=this._scrollMetrics.visibleLength/(this._scrollMetrics.contentLength||1),t=[],r=this.props.getItemCount(this.props.data),n=0;n<r;n++){var o=this.__getFrameMetricsApprox(n,this.props);o.inLayout&&t.push(o)}var l=this.__getFrameMetricsApprox(this.state.cellsAroundViewport.first,this.props).offset,s=this.__getFrameMetricsApprox(this.state.cellsAroundViewport.last,this.props),i=s.offset+s.length-l,a=this._scrollMetrics.offset,c=this._scrollMetrics.visibleLength;return k.createElement(_.Z,{style:[U.debugOverlayBase,U.debugOverlay]},t.map((function(t,r){return k.createElement(_.Z,{key:"f"+r,style:[U.debugOverlayBase,U.debugOverlayFrame,{top:t.offset*e,height:t.length*e}]})})),k.createElement(_.Z,{style:[U.debugOverlayBase,U.debugOverlayFrameLast,{top:l*e,height:i*e}]}),k.createElement(_.Z,{style:[U.debugOverlayBase,U.debugOverlayFrameVis,{top:a*e,height:c*e}]}))}},{key:"_selectLength",value:function(e){return z(this.props.horizontal)?e.width:e.height}},{key:"_selectOffset",value:function(e){return z(this.props.horizontal)?e.x:e.y}},{key:"_maybeCallOnEdgeReached",value:function(){var e=this.props,t=e.data,r=e.getItemCount,n=e.onStartReached,o=e.onStartReachedThreshold,l=e.onEndReached,s=e.onEndReachedThreshold,i=e.initialScrollIndex,a=this._scrollMetrics,c=a.contentLength,u=a.visibleLength,h=a.offset,d=h,f=c-u-h;d<.001&&(d=0),f<.001&&(f=0);var p=d<=(null!=o?o*u:2),_=f<=(null!=s?s*u:2);l&&this.state.cellsAroundViewport.last===r(t)-1&&_&&this._scrollMetrics.contentLength!==this._sentEndForContentLength?(this._sentEndForContentLength=this._scrollMetrics.contentLength,l({distanceFromEnd:f})):null!=n&&0===this.state.cellsAroundViewport.first&&p&&this._scrollMetrics.contentLength!==this._sentStartForContentLength?i&&0===this._scrollMetrics.timestamp||(this._sentStartForContentLength=this._scrollMetrics.contentLength,n({distanceFromStart:d})):(this._sentStartForContentLength=p?this._sentStartForContentLength:0,this._sentEndForContentLength=_?this._sentEndForContentLength:0)}},{key:"_scheduleCellsToRenderUpdate",value:function(){var e=this.state.cellsAroundViewport,t=e.first,r=e.last,n=this._scrollMetrics,o=n.offset,l=n.visibleLength,s=n.velocity,i=this.props.getItemCount(this.props.data),a=!1,c=function(e){return null!=e?e:2}(this.props.onStartReachedThreshold),u=H(this.props.onEndReachedThreshold);if(t>0){var h=o-this.__getFrameMetricsApprox(t,this.props).offset;a=h<0||s<-2&&h<W(c,l)}if(!a&&r>=0&&r<i-1){var d=this.__getFrameMetricsApprox(r,this.props).offset-(o+l);a=d<0||s>2&&d<W(u,l)}if(a&&(this._averageCellLength||this.props.getItemLayout)&&!this._hiPriInProgress)return this._hiPriInProgress=!0,this._updateCellsToRenderBatcher.dispose({abort:!0}),void this._updateCellsToRender();this._updateCellsToRenderBatcher.schedule()}},{key:"_updateViewableItems",value:function(e,t){var r=this;this._viewabilityTuples.forEach((function(n){n.viewabilityHelper.onUpdate(e,r._scrollMetrics.offset,r._scrollMetrics.visibleLength,r._getFrameMetrics,r._createViewToken,n.onViewableItemsChanged,t)}))}}],[{key:"_createRenderMask",value:function(e,t,o){var l=e.getItemCount(e.data);L()(t.first>=0&&t.last>=t.first-1&&t.last<l,'Invalid cells around viewport "['+t.first+", "+t.last+']" was passed to VirtualizedList._createRenderMask');var s=new S(l);if(l>0){for(var i=0,a=[t].concat((0,n.Z)(null!=o?o:[]));i<a.length;i++){var c=a[i];s.addCells(c)}if(null==e.initialScrollIndex||e.initialScrollIndex<=0){var u=r._initialRenderRegion(e);s.addCells(u)}var h=new Set(e.stickyHeaderIndices);r._ensureClosestStickyHeader(e,h,s,t.first)}return s}},{key:"_initialRenderRegion",value:function(e){var t,r,n=e.getItemCount(e.data),o=Math.max(0,Math.min(n-1,Math.floor(null!==(t=e.initialScrollIndex)&&void 0!==t?t:0)));return{first:o,last:Math.min(n,o+(null!=(r=e.initialNumToRender)?r:10))-1}}},{key:"_ensureClosestStickyHeader",value:function(e,t,r,n){for(var o=e.ListHeaderComponent?1:0,l=n-1;l>=0;l--)if(t.has(l+o)){r.addCells({first:l,last:l});break}}},{key:"getDerivedStateFromProps",value:function(e,t){if(e.getItemCount(e.data)===t.renderMask.numCells())return t;var n=r._constrainToItemCount(t.cellsAroundViewport,e);return{cellsAroundViewport:n,renderMask:r._createRenderMask(e,n)}}},{key:"_constrainToItemCount",value:function(e,t){var r=t.getItemCount(t.data),n=Math.min(r-1,e.last),o=N(t.maxToRenderPerBatch);return{first:(0,m.Z)(0,r-1-o,e.first),last:n}}}]),r}(w);D.contextType=E;var U=g.Z.create({verticallyInverted:{transform:"scaleY(-1)"},horizontallyInverted:{transform:"scaleX(-1)"},debug:{flex:1},debugOverlayBase:{position:"absolute",top:0,right:0},debugOverlay:{bottom:0,width:20,borderColor:"blue",borderWidth:1},debugOverlayFrame:{left:0,backgroundColor:"orange"},debugOverlayFrameLast:{left:0,borderColor:"green",borderWidth:2},debugOverlayFrameVis:{left:0,borderColor:"red",borderWidth:2}});const j=D},899508:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(859151);const o=function e(t,r,o){if(void 0===o&&(o=-1),0===o)return!0;if(t===r)return!1;if("function"==typeof t&&"function"==typeof r)return!1;if("object"!==(0,n.Z)(t)||null===t)return t!==r;if("object"!==(0,n.Z)(r)||null===r)return!0;if(t.constructor!==r.constructor)return!0;if(Array.isArray(t)){var l=t.length;if(r.length!==l)return!0;for(var s=0;s<l;s++)if(e(t[s],r[s],o-1))return!0}else{for(var i in t)if(e(t[i],r[i],o-1))return!0;for(var a in r)if(void 0===t[a]&&void 0!==r[a])return!0}return!1}},59523:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(861772),o=r(457669),l=r(337011),s=(r(559691),r(501536),function(){function e(){(0,o.Z)(this,e),this._registry={}}return(0,l.Z)(e,[{key:"addListener",value:function(e,t,r){var n=function(e,t){var r=e[t];null==r&&(r=new Set,e[t]=r);return r}(this._registry,e),o={context:r,listener:t,remove:function(){n.delete(o)}};return n.add(o),o}},{key:"emit",value:function(e){var t=this._registry[e];if(null!=t){for(var r=arguments.length,o=new Array(r>1?r-1:0),l=1;l<r;l++)o[l-1]=arguments[l];for(var s=0,i=(0,n.Z)(t);s<i.length;s++){var a=i[s];a.listener.apply(a.context,o)}}}},{key:"removeAllListeners",value:function(e){null==e?this._registry={}:delete this._registry[e]}},{key:"listenerCount",value:function(e){var t=this._registry[e];return null==t?0:t.size}}]),e}())},853873:(e,t,r)=>{r.d(t,{Z:()=>l});var n=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function o(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(o=e[r],l=t[r],!(o===l||n(o)&&n(l)))return!1;var o,l;return!0}function l(e,t){void 0===t&&(t=o);var r=null;function n(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];if(r&&r.lastThis===this&&t(n,r.lastArgs))return r.lastResult;var l=e.apply(this,n);return r={lastResult:l,lastArgs:n,lastThis:this},l}return n.clear=function(){r=null},n}}}]),window.__SCRIPTS_LOADED__.vendor=!0);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web-legacy/vendor-6b20cc7c.7374101a.js.map